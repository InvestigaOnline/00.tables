<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 10 Estilos y formatos de tabla | Análisis de datos con tablas y gráficos en SegmentaNet con R</title>
  <meta name="description" content="Documento de usuario para reproducir tablas del tipo SPSS / BarbWin en SegmentaNet usando el paquete expss y visualizaciones de resultados con paquete highcharter. Introducción al uso de scripts con R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 10 Estilos y formatos de tabla | Análisis de datos con tablas y gráficos en SegmentaNet con R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Documento de usuario para reproducir tablas del tipo SPSS / BarbWin en SegmentaNet usando el paquete expss y visualizaciones de resultados con paquete highcharter. Introducción al uso de scripts con R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 10 Estilos y formatos de tabla | Análisis de datos con tablas y gráficos en SegmentaNet con R" />
  
  <meta name="twitter:description" content="Documento de usuario para reproducir tablas del tipo SPSS / BarbWin en SegmentaNet usando el paquete expss y visualizaciones de resultados con paquete highcharter. Introducción al uso de scripts con R." />
  

<meta name="author" content="Roberto Gil-Saura" />


<meta name="date" content="2020-12-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tse08.html"/>
<link rel="next" href="tse09.html"/>
<script src="libs/jquery-3.5.0/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/jquery-sparkline-2.1.2/jquery.sparkline.css" rel="stylesheet" />
<script src="libs/jquery-sparkline-2.1.2/jquery.sparkline.js"></script>
<script src="libs/sparkline-binding-2.0/sparkline.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="./">Análisis de datos con tablas y gráficos en SegmentaNet con R</a>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prefacio</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#requisitos"><i class="fa fa-check"></i><b>1.1</b> Requisitos</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#estructura-del-documento"><i class="fa fa-check"></i><b>1.2</b> Estructura del documento</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tse01.html"><a href="tse01.html"><i class="fa fa-check"></i><b>2</b> Introducción</a><ul>
<li class="chapter" data-level="2.1" data-path="tse01.html"><a href="tse01.html#preparar-nuestro-entorno"><i class="fa fa-check"></i><b>2.1</b> Preparar nuestro entorno</a><ul>
<li class="chapter" data-level="2.1.1" data-path="tse01.html"><a href="tse01.html#crear-proyecto"><i class="fa fa-check"></i><b>2.1.1</b> Crear proyecto</a></li>
<li class="chapter" data-level="2.1.2" data-path="tse01.html"><a href="tse01.html#crear-fuente-de-datos"><i class="fa fa-check"></i><b>2.1.2</b> Crear fuente de datos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="tse01.html"><a href="tse01.html#mi-primer-análisis-con-scripting"><i class="fa fa-check"></i><b>2.2</b> Mi primer análisis con scripting</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tse01.html"><a href="tse01.html#crear-análisis"><i class="fa fa-check"></i><b>2.2.1</b> Crear análisis</a></li>
<li class="chapter" data-level="2.2.2" data-path="tse01.html"><a href="tse01.html#conclusión"><i class="fa fa-check"></i><b>2.2.2</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="tse01.html"><a href="tse01.html#mi-primera-tabla-con-scripting"><i class="fa fa-check"></i><b>2.3</b> Mi primera tabla con scripting</a></li>
<li class="chapter" data-level="2.4" data-path="tse01.html"><a href="tse01.html#desde-dónde-creo-mis-scripts"><i class="fa fa-check"></i><b>2.4</b> ¿Desde dónde creo mis scripts?</a><ul>
<li class="chapter" data-level="2.4.1" data-path="tse01.html"><a href="tse01.html#análisis"><i class="fa fa-check"></i><b>2.4.1</b> Análisis</a></li>
<li class="chapter" data-level="2.4.2" data-path="tse01.html"><a href="tse01.html#procesos"><i class="fa fa-check"></i><b>2.4.2</b> Procesos</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="tse01.html"><a href="tse01.html#conclusión-1"><i class="fa fa-check"></i><b>2.5</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tse02.html"><a href="tse02.html"><i class="fa fa-check"></i><b>3</b> Términos</a><ul>
<li class="chapter" data-level="3.1" data-path="tse02.html"><a href="tse02.html#básicos-de-r-yo-proceso-de-datos"><i class="fa fa-check"></i><b>3.1</b> Básicos de R y/o proceso de datos</a></li>
<li class="chapter" data-level="3.2" data-path="tse02.html"><a href="tse02.html#básicos-de-tabulación"><i class="fa fa-check"></i><b>3.2</b> Básicos de tabulación</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tse03.html"><a href="tse03.html"><i class="fa fa-check"></i><b>4</b> Tablas marginales</a><ul>
<li class="chapter" data-level="4.1" data-path="tse03.html"><a href="tse03.html#frecuencias"><i class="fa fa-check"></i><b>4.1</b> Frecuencias</a><ul>
<li class="chapter" data-level="4.1.1" data-path="tse03.html"><a href="tse03.html#variables-de-respuesta-simple"><i class="fa fa-check"></i><b>4.1.1</b> Variables de respuesta simple</a></li>
<li class="chapter" data-level="4.1.2" data-path="tse03.html"><a href="tse03.html#variable-de-respuesta-múltiple"><i class="fa fa-check"></i><b>4.1.2</b> Variable de respuesta múltiple</a></li>
<li class="chapter" data-level="4.1.3" data-path="tse03.html"><a href="tse03.html#tablas-combinadas"><i class="fa fa-check"></i><b>4.1.3</b> Tablas combinadas</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tse03.html"><a href="tse03.html#estadísticos"><i class="fa fa-check"></i><b>4.2</b> Estadísticos</a><ul>
<li class="chapter" data-level="4.2.1" data-path="tse03.html"><a href="tse03.html#estadísticos-básicos"><i class="fa fa-check"></i><b>4.2.1</b> Estadísticos básicos</a></li>
<li class="chapter" data-level="4.2.2" data-path="tse03.html"><a href="tse03.html#otros-estadísticos"><i class="fa fa-check"></i><b>4.2.2</b> Otros estadísticos</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tse03.html"><a href="tse03.html#conclusión-2"><i class="fa fa-check"></i><b>4.3</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tse04.html"><a href="tse04.html"><i class="fa fa-check"></i><b>5</b> Tablas cruzadas</a><ul>
<li class="chapter" data-level="5.1" data-path="tse04.html"><a href="tse04.html#básica-con-variables-simples"><i class="fa fa-check"></i><b>5.1</b> Básica con variables simples</a><ul>
<li class="chapter" data-level="5.1.1" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-y-sólo-absolutos"><i class="fa fa-check"></i><b>5.1.1</b> De frecuencias, variable simple y sólo absolutos</a></li>
<li class="chapter" data-level="5.1.2" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-con-porcentajes-de-columna"><i class="fa fa-check"></i><b>5.1.2</b> De frecuencias, variable simple, con porcentajes de columna</a></li>
<li class="chapter" data-level="5.1.3" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-con-porcentajes-de-fila"><i class="fa fa-check"></i><b>5.1.3</b> De frecuencias, variable simple, con porcentajes de fila</a></li>
<li class="chapter" data-level="5.1.4" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-con-porcentajes-total-muestra"><i class="fa fa-check"></i><b>5.1.4</b> De frecuencias, variable simple, con porcentajes total muestra</a></li>
<li class="chapter" data-level="5.1.5" data-path="tse04.html"><a href="tse04.html#combinaciones-de-los-anteriores"><i class="fa fa-check"></i><b>5.1.5</b> Combinaciones de los anteriores</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="tse04.html"><a href="tse04.html#básica-con-múltiples"><i class="fa fa-check"></i><b>5.2</b> Básica con múltiples</a><ul>
<li class="chapter" data-level="5.2.1" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-y-sólo-absolutos"><i class="fa fa-check"></i><b>5.2.1</b> De frecuencias, variable múltiple y sólo absolutos</a></li>
<li class="chapter" data-level="5.2.2" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-con-porcentajes-de-columna"><i class="fa fa-check"></i><b>5.2.2</b> De frecuencias, variable múltiple, con porcentajes de columna</a></li>
<li class="chapter" data-level="5.2.3" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-con-porcentajes-de-fila"><i class="fa fa-check"></i><b>5.2.3</b> De frecuencias, variable múltiple, con porcentajes de fila</a></li>
<li class="chapter" data-level="5.2.4" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-con-porcentajes-total-muestra"><i class="fa fa-check"></i><b>5.2.4</b> De frecuencias, variable múltiple, con porcentajes total muestra</a></li>
<li class="chapter" data-level="5.2.5" data-path="tse04.html"><a href="tse04.html#combinaciones-de-los-anteriores-1"><i class="fa fa-check"></i><b>5.2.5</b> Combinaciones de los anteriores</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tse04.html"><a href="tse04.html#básica-con-estadísticos"><i class="fa fa-check"></i><b>5.3</b> Básica con estadísticos</a><ul>
<li class="chapter" data-level="5.3.1" data-path="tse04.html"><a href="tse04.html#cruce-entre-variable-simple-y-dos-estadísticos"><i class="fa fa-check"></i><b>5.3.1</b> Cruce entre variable simple y dos estadísticos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tse05.html"><a href="tse05.html"><i class="fa fa-check"></i><b>6</b> Tablas especiales</a><ul>
<li class="chapter" data-level="6.1" data-path="tse05.html"><a href="tse05.html#subgrupos-filtros-en-la-tabla"><i class="fa fa-check"></i><b>6.1</b> Subgrupos (filtros en la tabla)</a></li>
<li class="chapter" data-level="6.2" data-path="tse05.html"><a href="tse05.html#bases-yo-con-anidación"><i class="fa fa-check"></i><b>6.2</b> Bases y/o con anidación</a></li>
<li class="chapter" data-level="6.3" data-path="tse05.html"><a href="tse05.html#características-avanzadas"><i class="fa fa-check"></i><b>6.3</b> Características avanzadas</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tse06.html"><a href="tse06.html"><i class="fa fa-check"></i><b>7</b> Otras utilidades y tablas especiales</a><ul>
<li class="chapter" data-level="7.1" data-path="tse06.html"><a href="tse06.html#recode"><i class="fa fa-check"></i><b>7.1</b> Recodificar</a></li>
<li class="chapter" data-level="7.2" data-path="tse06.html"><a href="tse06.html#cuadros"><i class="fa fa-check"></i><b>7.2</b> Cuadros</a></li>
<li class="chapter" data-level="7.3" data-path="tse06.html"><a href="tse06.html#ponderación"><i class="fa fa-check"></i><b>7.3</b> Ponderación</a></li>
<li class="chapter" data-level="7.4" data-path="tse06.html"><a href="tse06.html#subtotales-y-nets"><i class="fa fa-check"></i><b>7.4</b> Subtotales y NETS</a><ul>
<li class="chapter" data-level="7.4.1" data-path="tse06.html"><a href="tse06.html#subtotales"><i class="fa fa-check"></i><b>7.4.1</b> Subtotales</a></li>
<li class="chapter" data-level="7.4.2" data-path="tse06.html"><a href="tse06.html#nets"><i class="fa fa-check"></i><b>7.4.2</b> NETS</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="tse06.html"><a href="tse06.html#top-y-bottom"><i class="fa fa-check"></i><b>7.5</b> <em>Top</em> y <em>Bottom</em></a><ul>
<li class="chapter" data-level="7.5.1" data-path="tse06.html"><a href="tse06.html#gráficos-base"><i class="fa fa-check"></i><b>7.5.1</b> Gráficos base</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tse07.html"><a href="tse07.html"><i class="fa fa-check"></i><b>8</b> Pruebas inferenciales</a><ul>
<li class="chapter" data-level="8.1" data-path="tse07.html"><a href="tse07.html#prueba-de-dependencia"><i class="fa fa-check"></i><b>8.1</b> Prueba de dependencia</a><ul>
<li class="chapter" data-level="8.1.1" data-path="tse07.html"><a href="tse07.html#de-una-tabla"><i class="fa fa-check"></i><b>8.1.1</b> De una tabla</a></li>
<li class="chapter" data-level="8.1.2" data-path="tse07.html"><a href="tse07.html#de-una-celda-de-una-tabla"><i class="fa fa-check"></i><b>8.1.2</b> De una celda de una tabla</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="tse07.html"><a href="tse07.html#pruebas-de-diferencias"><i class="fa fa-check"></i><b>8.2</b> Pruebas de diferencias</a><ul>
<li class="chapter" data-level="8.2.1" data-path="tse07.html"><a href="tse07.html#porcentajes-prueba-z"><i class="fa fa-check"></i><b>8.2.1</b> Porcentajes (prueba z)</a></li>
<li class="chapter" data-level="8.2.2" data-path="tse07.html"><a href="tse07.html#medias-prueba-t"><i class="fa fa-check"></i><b>8.2.2</b> Medias (prueba t)</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tse07.html"><a href="tse07.html#parámetros-posibles-en-las-pruebas-de-significación"><i class="fa fa-check"></i><b>8.3</b> Parámetros posibles en las pruebas de significación</a><ul>
<li class="chapter" data-level="8.3.1" data-path="tse07.html"><a href="tse07.html#algunos-ejemplos-de-uso-de-los-parámetros"><i class="fa fa-check"></i><b>8.3.1</b> Algunos ejemplos de uso de los parámetros</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="tse07.html"><a href="tse07.html#conclusión-3"><i class="fa fa-check"></i><b>8.4</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tse08.html"><a href="tse08.html"><i class="fa fa-check"></i><b>9</b> Visualización gráfica</a><ul>
<li class="chapter" data-level="9.1" data-path="tse08.html"><a href="tse08.html#highcharter-introducción"><i class="fa fa-check"></i><b>9.1</b> highcharteR, introducción</a><ul>
<li class="chapter" data-level="9.1.1" data-path="tse08.html"><a href="tse08.html#highchart"><i class="fa fa-check"></i><b>9.1.1</b> highchart()</a></li>
<li class="chapter" data-level="9.1.2" data-path="tse08.html"><a href="tse08.html#hchart"><i class="fa fa-check"></i><b>9.1.2</b> hchart()</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="tse08.html"><a href="tse08.html#mi-primer-gráfico"><i class="fa fa-check"></i><b>9.2</b> Mi primer gráfico</a></li>
<li class="chapter" data-level="9.3" data-path="tse08.html"><a href="tse08.html#gráfico-de-barras"><i class="fa fa-check"></i><b>9.3</b> Gráfico de barras</a><ul>
<li class="chapter" data-level="9.3.1" data-path="tse08.html"><a href="tse08.html#cambiar-el-nombre-de-la-serie-de-datos"><i class="fa fa-check"></i><b>9.3.1</b> Cambiar el nombre de la serie de datos</a></li>
<li class="chapter" data-level="9.3.2" data-path="tse08.html"><a href="tse08.html#añadir-créditos-al-gráfico"><i class="fa fa-check"></i><b>9.3.2</b> Añadir créditos al gráfico</a></li>
<li class="chapter" data-level="9.3.3" data-path="tse08.html"><a href="tse08.html#añadir-el-valor-del-dato-al-elemento-datalabels"><i class="fa fa-check"></i><b>9.3.3</b> Añadir el valor del dato al elemento (datalabels)</a></li>
<li class="chapter" data-level="9.3.4" data-path="tse08.html"><a href="tse08.html#guardar-y-exportar-el-gráfico"><i class="fa fa-check"></i><b>9.3.4</b> Guardar y exportar el gráfico</a></li>
<li class="chapter" data-level="9.3.5" data-path="tse08.html"><a href="tse08.html#api-de-highcharts-toda-la-potencia-de-los-gráficos"><i class="fa fa-check"></i><b>9.3.5</b> API de Highcharts, toda la potencia de los gráficos</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="tse08.html"><a href="tse08.html#gráfico-de-columna"><i class="fa fa-check"></i><b>9.4</b> Gráfico de columna</a><ul>
<li class="chapter" data-level="9.4.1" data-path="tse08.html"><a href="tse08.html#gráficos-polares"><i class="fa fa-check"></i><b>9.4.1</b> Gráficos polares</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="tse08.html"><a href="tse08.html#diagramas-de-secciones"><i class="fa fa-check"></i><b>9.5</b> Diagramas de secciones</a><ul>
<li class="chapter" data-level="9.5.1" data-path="tse08.html"><a href="tse08.html#tarta-pie-chart"><i class="fa fa-check"></i><b>9.5.1</b> Tarta / <em>pie chart</em></a></li>
<li class="chapter" data-level="9.5.2" data-path="tse08.html"><a href="tse08.html#anillo-doughnut"><i class="fa fa-check"></i><b>9.5.2</b> Anillo / <em>doughnut</em></a></li>
<li class="chapter" data-level="9.5.3" data-path="tse08.html"><a href="tse08.html#funnel"><i class="fa fa-check"></i><b>9.5.3</b> <em>Funnel</em></a></li>
<li class="chapter" data-level="9.5.4" data-path="tse08.html"><a href="tse08.html#pirámide"><i class="fa fa-check"></i><b>9.5.4</b> Pirámide</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="tse08.html"><a href="tse08.html#gráfico-de-línea"><i class="fa fa-check"></i><b>9.6</b> Gráfico de línea</a></li>
<li class="chapter" data-level="9.7" data-path="tse08.html"><a href="tse08.html#gráficos-de-columnas-barras-con-apilamiento"><i class="fa fa-check"></i><b>9.7</b> Gráficos de columnas / barras con apilamiento</a></li>
<li class="chapter" data-level="9.8" data-path="tse08.html"><a href="tse08.html#gráfico-de-área"><i class="fa fa-check"></i><b>9.8</b> Gráfico de área</a></li>
<li class="chapter" data-level="9.9" data-path="tse08.html"><a href="tse08.html#gráfico-de-puntos-scatterplot"><i class="fa fa-check"></i><b>9.9</b> Gráfico de puntos / <em>scatterplot</em></a></li>
<li class="chapter" data-level="9.10" data-path="tse08.html"><a href="tse08.html#histograma-o-gráfico-de-densidad"><i class="fa fa-check"></i><b>9.10</b> Histograma o gráfico de densidad</a></li>
<li class="chapter" data-level="9.11" data-path="tse08.html"><a href="tse08.html#gráficos-indicadores"><i class="fa fa-check"></i><b>9.11</b> Gráficos indicadores</a><ul>
<li class="chapter" data-level="9.11.1" data-path="tse08.html"><a href="tse08.html#gauge"><i class="fa fa-check"></i><b>9.11.1</b> Gauge</a></li>
<li class="chapter" data-level="9.11.2" data-path="tse08.html"><a href="tse08.html#bullet"><i class="fa fa-check"></i><b>9.11.2</b> Bullet</a></li>
</ul></li>
<li class="chapter" data-level="9.12" data-path="tse08.html"><a href="tse08.html#gráfico-boxplot"><i class="fa fa-check"></i><b>9.12</b> Gráfico / <em>boxplot</em></a></li>
<li class="chapter" data-level="9.13" data-path="tse08.html"><a href="tse08.html#gráfico-de-barras-de-error"><i class="fa fa-check"></i><b>9.13</b> Gráfico de barras de error</a></li>
<li class="chapter" data-level="9.14" data-path="tse08.html"><a href="tse08.html#gráficos-de-transiciones"><i class="fa fa-check"></i><b>9.14</b> Gráficos de transiciones</a><ul>
<li class="chapter" data-level="9.14.1" data-path="tse08.html"><a href="tse08.html#diagrama-de-sankey"><i class="fa fa-check"></i><b>9.14.1</b> Diagrama de Sankey</a></li>
<li class="chapter" data-level="9.14.2" data-path="tse08.html"><a href="tse08.html#diagrama-de-rueda"><i class="fa fa-check"></i><b>9.14.2</b> Diagrama de rueda</a></li>
<li class="chapter" data-level="9.14.3" data-path="tse08.html"><a href="tse08.html#diagrama-streamgraph"><i class="fa fa-check"></i><b>9.14.3</b> Diagrama <em>streamgraph</em></a></li>
<li class="chapter" data-level="9.14.4" data-path="tse08.html"><a href="tse08.html#diagrama-de-redes"><i class="fa fa-check"></i><b>9.14.4</b> Diagrama de redes</a></li>
</ul></li>
<li class="chapter" data-level="9.15" data-path="tse08.html"><a href="tse08.html#conclusión-4"><i class="fa fa-check"></i><b>9.15</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tse-formateo.html"><a href="tse-formateo.html"><i class="fa fa-check"></i><b>10</b> Estilos y formatos de tabla</a><ul>
<li class="chapter" data-level="10.1" data-path="tse-formateo.html"><a href="tse-formateo.html#introducción"><i class="fa fa-check"></i><b>10.1</b> Introducción</a></li>
<li class="chapter" data-level="10.2" data-path="tse-formateo.html"><a href="tse-formateo.html#operaciones-con-tablas"><i class="fa fa-check"></i><b>10.2</b> Operaciones con tablas</a></li>
<li class="chapter" data-level="10.3" data-path="tse-formateo.html"><a href="tse-formateo.html#estilo-de-las-tablas"><i class="fa fa-check"></i><b>10.3</b> Estilo de las tablas</a><ul>
<li class="chapter" data-level="10.3.1" data-path="tse-formateo.html"><a href="tse-formateo.html#estilo-y-posición"><i class="fa fa-check"></i><b>10.3.1</b> Estilo y posición</a></li>
<li class="chapter" data-level="10.3.2" data-path="tse-formateo.html"><a href="tse-formateo.html#formato-específico-de-fila-o-columna"><i class="fa fa-check"></i><b>10.3.2</b> Formato específico de fila o columna</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="tse-formateo.html"><a href="tse-formateo.html#adición-de-imágenes-y-de-otros-elementos"><i class="fa fa-check"></i><b>10.4</b> Adición de imágenes y de otros elementos</a><ul>
<li class="chapter" data-level="10.4.1" data-path="tse-formateo.html"><a href="tse-formateo.html#adición-de-iconos-de-fontawesome"><i class="fa fa-check"></i><b>10.4.1</b> Adición de iconos de FontAwesome</a></li>
<li class="chapter" data-level="10.4.2" data-path="tse-formateo.html"><a href="tse-formateo.html#adición-de-gráficos-de-tipo-sparkline"><i class="fa fa-check"></i><b>10.4.2</b> Adición de gráficos de tipo sparkline</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="tse09.html"><a href="tse09.html"><i class="fa fa-check"></i><b>11</b> Condiciones</a><ul>
<li class="chapter" data-level="11.1" data-path="tse09.html"><a href="tse09.html#operadores-aritméticos"><i class="fa fa-check"></i><b>11.1</b> Operadores aritméticos</a></li>
<li class="chapter" data-level="11.2" data-path="tse09.html"><a href="tse09.html#operadores-relacionales"><i class="fa fa-check"></i><b>11.2</b> Operadores relacionales</a></li>
<li class="chapter" data-level="11.3" data-path="tse09.html"><a href="tse09.html#operadores-lógicos"><i class="fa fa-check"></i><b>11.3</b> Operadores lógicos</a></li>
<li class="chapter" data-level="11.4" data-path="tse09.html"><a href="tse09.html#operadores-de-asignación"><i class="fa fa-check"></i><b>11.4</b> Operadores de asignación</a></li>
<li class="chapter" data-level="11.5" data-path="tse09.html"><a href="tse09.html#criteria"><i class="fa fa-check"></i><b>11.5</b> Operadores específicos (criterios) en expss</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliografía.html"><a href="bibliografía.html"><i class="fa fa-check"></i>Bibliografía</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análisis de datos con tablas y gráficos en SegmentaNet con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tse-formateo" class="section level1">
<h1><span class="header-section-number">Capítulo 10</span> Estilos y formatos de tabla</h1>
<blockquote>
<p>.. en desarrollo</p>
</blockquote>
<div id="introducción" class="section level2">
<h2><span class="header-section-number">10.1</span> Introducción</h2>
<p>Los paquetes que hemos utilizado en nuestro trabajo con las tablas ya han sido referido en multitud de ocasiones. <code>expss</code> nos permite además de obtener el cuadro preciso, operar con las filas y columnas de la tabla, puesto que el objeto creado es como un <em>dataframe</em> especial, ya que su clase de objeto es <code>etable</code>. Por tanto, vamos a tener la capacidad de poder operar con las columnas (variable) así como también con las filas (registros de ese dataframe).</p>
<p>Existen multitud de paquetes con los que poder interactuar para poder obtener los resultados deseados. Los paquetes <code>DT</code> (datatable), <code>formattable</code>, y también <code>kable</code> y <code>kableExtra</code> que son nativos para utilizar junto con <code>rmarkdown</code>, lo que conforma un amplio espectro de soluciones. Deberemos buscar aquella que responda a nuestras expectativas y que haga nos sintamos más cómodos.</p>
<p>Por el lado de las operaciones en la tabla, comenzaremos sentando las bases de como se realizan las operaciones, para luego trabajar la salida aportando estilos y formatos condicionales a las mismas.</p>
</div>
<div id="operaciones-con-tablas" class="section level2">
<h2><span class="header-section-number">10.2</span> Operaciones con tablas</h2>
<p>Como hemos indicado en la presentación anterior, nuestro primer paso será la realización de operaciones muy simples con las tablas, que seguro en nuestro trabajo estamos acostumbrados a hacer. también vamos a adentramos un poco en la creación de los elementos con los que vamos a trabajar. Ahora ya no trabajaremos sobre lo que ha sido nuestro fichero base, sino que iremos aportando nuestros propios ejemplos que se adecuen a lo que deseamos hacer.</p>
<p>Imaginemos que disponemos datos sobre las cifras de ventas anuales de cinco empresas muy conocidas: Apple, Amazon, Microsoft, Google y Facebook. Estas empresas ofrecen información sobre Ingresos , Beneficio Operativo y Beneficio Neto de cuatro trimestre de 2018 y primer trimestre de 2019 en millones de dólares. Con estos datos creamos un <em>dataframe</em>.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="tse-formateo.html#cb211-1"></a>data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">emp=</span><span class="kw">c</span>(<span class="st">&#39;Apple&#39;</span>,<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Microsoft&#39;</span>,<span class="st">&#39;Microsoft&#39;</span>, <span class="st">&#39;Amazon&#39;</span>,<span class="st">&#39;Amazon&#39;</span>, <span class="st">&#39;Google&#39;</span>,<span class="st">&#39;Google&#39;</span>, <span class="st">&#39;Facebook&#39;</span>,<span class="st">&#39;Facebook&#39;</span>),</span>
<span id="cb211-2"><a href="tse-formateo.html#cb211-2"></a>                <span class="dt">ing=</span><span class="kw">c</span>(<span class="dv">84310</span>,<span class="dv">91819</span>,<span class="dv">32471</span>,<span class="dv">36906</span>,<span class="dv">72400</span>,<span class="dv">87400</span>, <span class="dv">39276</span>,<span class="dv">46075</span>,<span class="dv">16914</span>,<span class="dv">21082</span>),</span>
<span id="cb211-3"><a href="tse-formateo.html#cb211-3"></a>                <span class="dt">bfo=</span><span class="kw">c</span>(<span class="dv">23346</span>,<span class="dv">25569</span>,<span class="dv">10258</span>,<span class="dv">13891</span>,<span class="dv">3786</span>,<span class="dv">3879</span>,<span class="dv">8221</span>,<span class="dv">9266</span>,<span class="dv">7820</span>,<span class="dv">8858</span>),</span>
<span id="cb211-4"><a href="tse-formateo.html#cb211-4"></a>                <span class="dt">bfn=</span><span class="kw">c</span>(<span class="dv">19965</span>,<span class="dv">22236</span>,<span class="dv">8420</span>,<span class="dv">11649</span>,<span class="dv">3027</span>,<span class="dv">3268</span>,<span class="dv">8948</span>,<span class="dv">10671</span>,<span class="dv">6882</span>,<span class="dv">7349</span>),</span>
<span id="cb211-5"><a href="tse-formateo.html#cb211-5"></a>                <span class="dt">per=</span><span class="kw">c</span>(<span class="st">&#39;IV-2018&#39;</span>,<span class="st">&#39;I-2019&#39;</span>,<span class="st">&#39;IV-2018&#39;</span>,<span class="st">&#39;I-2019&#39;</span>,<span class="st">&#39;IV-2018&#39;</span>,<span class="st">&#39;I-2019&#39;</span>,<span class="st">&#39;IV-2018&#39;</span>,<span class="st">&#39;I-2019&#39;</span>,<span class="st">&#39;IV-2018&#39;</span>,<span class="st">&#39;I-2019&#39;</span>)</span>
<span id="cb211-6"><a href="tse-formateo.html#cb211-6"></a>                )</span>
<span id="cb211-7"><a href="tse-formateo.html#cb211-7"></a>data</span></code></pre></div>
<pre><code>##          emp   ing   bfo   bfn     per
## 1      Apple 84310 23346 19965 IV-2018
## 2      Apple 91819 25569 22236  I-2019
## 3  Microsoft 32471 10258  8420 IV-2018
## 4  Microsoft 36906 13891 11649  I-2019
## 5     Amazon 72400  3786  3027 IV-2018
## 6     Amazon 87400  3879  3268  I-2019
## 7     Google 39276  8221  8948 IV-2018
## 8     Google 46075  9266 10671  I-2019
## 9   Facebook 16914  7820  6882 IV-2018
## 10  Facebook 21082  8858  7349  I-2019</code></pre>
<p>Ahora vamos a obtener la tabla con la que deseamos trabajar, que sería comparar los ingresos de las cinco compañías en los dos períodos. Para ello creamos una tabla de la siguiente forma.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="tse-formateo.html#cb213-1"></a>data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb213-2"><a href="tse-formateo.html#cb213-2"></a><span class="st">    </span><span class="kw">tab_cols</span>(per) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb213-3"><a href="tse-formateo.html#cb213-3"></a><span class="st">    </span><span class="kw">tab_rows</span>(emp) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb213-4"><a href="tse-formateo.html#cb213-4"></a><span class="st">    </span><span class="kw">tab_cells</span>(ing) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb213-5"><a href="tse-formateo.html#cb213-5"></a><span class="st">    </span><span class="kw">tab_stat_sum</span>() <span class="op">%&gt;%</span></span>
<span id="cb213-6"><a href="tse-formateo.html#cb213-6"></a><span class="st">    </span><span class="kw">tab_pivot</span>()</span></code></pre></div>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<th style="border-top: 2px solid grey;">
</th>
<th colspan="2" style="font-weight: 900; border-top: 2px solid grey; text-align: center;">
</th>
<th style="border-bottom: none; border-top: 2px solid grey;" colspan="1">
 
</th>
<th colspan="2" style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
 per 
</th>
</tr>
<tr>
<th style="border-bottom: 1px solid grey; font-weight: 900; text-align: center;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; text-align: center;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; text-align: center;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; text-align: center;" colspan="1">
 
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; text-align: center;">
 I-2019 
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; text-align: center;">
 IV-2018 
</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="6" style="font-weight: 900;">
 emp 
</td>
</tr>
<tr>
<td style="text-align: left;">
   Amazon 
</td>
<td style="text-align: left;">
 ing 
</td>
<td style="text-align: left;">
 Sum 
</td>
<td style="text-align: left;" colspan="1">
 
</td>
<td style="text-align: right;">
87400
</td>
<td style="text-align: right;">
72400
</td>
</tr>
<tr>
<td style="text-align: left;">
   Apple 
</td>
<td style="text-align: left;">
 ing 
</td>
<td style="text-align: left;">
 Sum 
</td>
<td style="text-align: left;" colspan="1">
 
</td>
<td style="text-align: right;">
91819
</td>
<td style="text-align: right;">
84310
</td>
</tr>
<tr>
<td style="text-align: left;">
   Facebook 
</td>
<td style="text-align: left;">
 ing 
</td>
<td style="text-align: left;">
 Sum 
</td>
<td style="text-align: left;" colspan="1">
 
</td>
<td style="text-align: right;">
21082
</td>
<td style="text-align: right;">
16914
</td>
</tr>
<tr>
<td style="text-align: left;">
   Google 
</td>
<td style="text-align: left;">
 ing 
</td>
<td style="text-align: left;">
 Sum 
</td>
<td style="text-align: left;" colspan="1">
 
</td>
<td style="text-align: right;">
46075
</td>
<td style="text-align: right;">
39276
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid grey; text-align: left;">
   Microsoft 
</td>
<td style="border-bottom: 2px solid grey; text-align: left;">
 ing 
</td>
<td style="border-bottom: 2px solid grey; text-align: left;">
 Sum 
</td>
<td style="border-bottom: 2px solid grey; text-align: left;" colspan="1">
 
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
36906
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
32471
</td>
</tr>
</tbody>
</table>
<p>Este sería el formato estándar de salida, pero como ya hemos visto e capítulos anteriores, podemos adaptar esa salida a nuestras necesidades. Nótese que aun no siendo necesario, vamos a guardar la tabla en un output llamado <strong>tab01</strong> que luego vamos a publicar. Utilizamos la función <code>class()</code>para mostrarte que tras hacer la tabla, el output almacenado es un <code>etable</code> <em>dataframe</em>.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="tse-formateo.html#cb214-1"></a>tab01 &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb214-2"><a href="tse-formateo.html#cb214-2"></a><span class="st">    </span><span class="kw">tab_cols</span>(<span class="st">&#39;|&#39;</span>=<span class="kw">unvr</span>(per)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb214-3"><a href="tse-formateo.html#cb214-3"></a><span class="st">    </span><span class="kw">tab_rows</span>(<span class="st">&#39;|&#39;</span>=<span class="kw">unvr</span>(emp)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb214-4"><a href="tse-formateo.html#cb214-4"></a><span class="st">    </span><span class="kw">tab_cells</span>(<span class="st">&#39;|&#39;</span>=<span class="kw">unvr</span>(ing)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb214-5"><a href="tse-formateo.html#cb214-5"></a><span class="st">    </span><span class="kw">tab_stat_sum</span>(<span class="dt">label=</span><span class="st">&#39;|&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb214-6"><a href="tse-formateo.html#cb214-6"></a><span class="st">    </span><span class="kw">tab_pivot</span>()</span>
<span id="cb214-7"><a href="tse-formateo.html#cb214-7"></a><span class="kw">class</span>(tab01)</span></code></pre></div>
<pre><code>## [1] &quot;etable&quot;     &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="tse-formateo.html#cb216-1"></a>tab01</span></code></pre></div>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<th style="border-bottom: 1px solid grey; font-weight: 900; border-top: 2px solid grey; text-align: center;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
 I-2019 
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
 IV-2018 
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">
 Amazon 
</td>
<td style="text-align: right;">
87400
</td>
<td style="text-align: right;">
72400
</td>
</tr>
<tr>
<td style="text-align: left;">
 Apple 
</td>
<td style="text-align: right;">
91819
</td>
<td style="text-align: right;">
84310
</td>
</tr>
<tr>
<td style="text-align: left;">
 Facebook 
</td>
<td style="text-align: right;">
21082
</td>
<td style="text-align: right;">
16914
</td>
</tr>
<tr>
<td style="text-align: left;">
 Google 
</td>
<td style="text-align: right;">
46075
</td>
<td style="text-align: right;">
39276
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid grey; text-align: left;">
 Microsoft 
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
36906
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
32471
</td>
</tr>
</tbody>
</table>
<p>Podemos ver que esta tabla ya tiene un formato más adecuado a nuestra necesidad. Hemos quitado aquellos textos que en esta ocasión eran innecesarios.</p>
<p>Si convertimos (aunque ya lo es) y mostramos esta tabla como <em>dataframe</em> el resultado sería éste.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="tse-formateo.html#cb217-1"></a>tab01 &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(tab01)</span>
<span id="cb217-2"><a href="tse-formateo.html#cb217-2"></a><span class="kw">class</span>(tab01)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="tse-formateo.html#cb219-1"></a>tab01</span></code></pre></div>
<pre><code>##   row_labels I-2019 IV-2018
## 1     Amazon  87400   72400
## 2      Apple  91819   84310
## 3   Facebook  21082   16914
## 4     Google  46075   39276
## 5  Microsoft  36906   32471</code></pre>
<p>Nótese que ahora ya el output no es un objeto de tipo <code>etable</code>, solo es <em>dataframe</em>. Ya estamos en condiciones de poder operar. Calculemos la diferencia entre los dos trimestres.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="tse-formateo.html#cb221-1"></a>tab01<span class="op">$</span>dif &lt;-<span class="st"> </span>tab01[,<span class="dv">2</span>]<span class="op">-</span>tab01[,<span class="dv">3</span>]</span>
<span id="cb221-2"><a href="tse-formateo.html#cb221-2"></a>tab01</span></code></pre></div>
<pre><code>##   row_labels I-2019 IV-2018   dif
## 1     Amazon  87400   72400 15000
## 2      Apple  91819   84310  7509
## 3   Facebook  21082   16914  4168
## 4     Google  46075   39276  6799
## 5  Microsoft  36906   32471  4435</code></pre>
<p>Esta información puede ser presentada en un gráfico tal como veíamos en el capítulo anterior. Aprovechemos también para cambiar el nombre de las columnas …</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="tse-formateo.html#cb223-1"></a><span class="kw">colnames</span>(tab01) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;empresa&#39;</span>, <span class="st">&#39;2019 (1º)&#39;</span>, <span class="st">&#39;2018 (4º)&#39;</span>, <span class="st">&#39;dif&#39;</span>)</span>
<span id="cb223-2"><a href="tse-formateo.html#cb223-2"></a><span class="kw">highchart</span>() <span class="op">%&gt;%</span></span>
<span id="cb223-3"><a href="tse-formateo.html#cb223-3"></a><span class="st">    </span><span class="kw">hc_chart</span>(<span class="dt">type=</span><span class="st">&#39;column&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb223-4"><a href="tse-formateo.html#cb223-4"></a><span class="st">    </span><span class="kw">hc_title</span>(<span class="dt">text=</span><span class="st">&#39;Cifra de negocio de las 5 mayores tecnológicas&#39;) %&gt;% </span></span>
<span id="cb223-5"><a href="tse-formateo.html#cb223-5"></a><span class="st">    hc_xAxis(categories=tab01[,1]) %&gt;% </span></span>
<span id="cb223-6"><a href="tse-formateo.html#cb223-6"></a><span class="st">    hc_yAxis(min=0, max=100000) %&gt;% </span></span>
<span id="cb223-7"><a href="tse-formateo.html#cb223-7"></a><span class="st">    hc_add_series(data=tab01[,2], name=&#39;</span>IV de <span class="dv">2018</span><span class="st">&#39;,dataLabels=list(enabled=TRUE), color=&#39;</span>salmon<span class="st">&#39;) %&gt;% </span></span>
<span id="cb223-8"><a href="tse-formateo.html#cb223-8"></a><span class="st">    hc_add_series(data=tab01[,3], name=&#39;</span>I de <span class="dv">2019</span><span class="st">&#39;,dataLabels=list(enabled=TRUE), color=&#39;</span>darksalmon<span class="st">&#39;) %&gt;% </span></span>
<span id="cb223-9"><a href="tse-formateo.html#cb223-9"></a><span class="st">    hc_add_series(data=tab01[,4], name=&#39;</span>Diferencia<span class="st">&#39;,dataLabels=list(enabled=TRUE), color=&#39;</span>teal<span class="st">&#39;)</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-154"></span>
<div id="htmlwidget-6bc6bf29ec53045a8185" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-6bc6bf29ec53045a8185">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Cifra de negocio de las 5 mayores tecnológicas"},"yAxis":{"title":{"text":null},"min":0,"max":100000},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"categories":["Amazon","Apple","Facebook","Google","Microsoft"]},"series":[{"data":[87400,91819,21082,46075,36906],"name":"IV de 2018","dataLabels":{"enabled":true},"color":"salmon"},{"data":[72400,84310,16914,39276,32471],"name":"I de 2019","dataLabels":{"enabled":true},"color":"darksalmon"},{"data":[15000,7509,4168,6799,4435],"name":"Diferencia","dataLabels":{"enabled":true},"color":"teal"}]},"theme":{"colors":["#47475c","#61BC7B","#508CC8","#F49952","#9C9EDB","#6699a1"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Alegreya Sans SC","fontSize":"24px"}},"subtitle":{"align":"left","style":{"fontFamily":"Alegreya Sans","fontSize":"16px"}},"caption":{"style":{"fontFamily":"Alegreya Sans","fontSize":"14px"}},"credits":{"style":{"fontFamily":"Roboto","fontSize":"10px"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}},"tooltip":{"valueDecimals":2}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Alegreya+Sans+SC","Alegreya+Sans"],"debug":false},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 10.1: Gráfico del dataframe
</p>
</div>
<p>Añadamos más información a la tabla. Vamos a calcular el porcentaje de incremento. Habrían muchas formas de hacerlo, pero vamos a tratar de hacerlo de la forma más simple.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="tse-formateo.html#cb224-1"></a>tab01<span class="op">$</span>difpct &lt;-<span class="st"> </span><span class="kw">round</span>(((tab01[,<span class="dv">2</span>]<span class="op">/</span>tab01[,<span class="dv">3</span>])<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span><span class="dv">100</span>,<span class="dv">1</span>) <span class="co">#cociente entre valores y paso a porcentaje con redondeo a un decimal</span></span>
<span id="cb224-2"><a href="tse-formateo.html#cb224-2"></a>tab01</span></code></pre></div>
<pre><code>##     empresa 2019 (1º) 2018 (4º)   dif difpct
## 1    Amazon     87400     72400 15000   20.7
## 2     Apple     91819     84310  7509    8.9
## 3  Facebook     21082     16914  4168   24.6
## 4    Google     46075     39276  6799   17.3
## 5 Microsoft     36906     32471  4435   13.7</code></pre>
<p>Esto nos va a permitir probar algo que no vimos en el anterior capítulo, presentar en función de otro eje Y la información. Se puede observar que en el script abajo referido, estamos creando en la función <code>hc_yAxis()</code> una lista de dos ejes a los que referenciar los datos, mientras que las cifras absolutas se miran con el eje Y de la izquierda, el dato relativo se mira con el eje Y a la derecha del gráfico. El resto de opciones ya fueron analizadas</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="tse-formateo.html#cb226-1"></a><span class="kw">highchart</span>() <span class="op">%&gt;%</span></span>
<span id="cb226-2"><a href="tse-formateo.html#cb226-2"></a><span class="st">    </span><span class="kw">hc_chart</span>(<span class="dt">type=</span><span class="st">&#39;column&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb226-3"><a href="tse-formateo.html#cb226-3"></a><span class="st">    </span><span class="kw">hc_title</span>(<span class="dt">text=</span><span class="st">&#39;Cifra de negocio de las 5 mayores tecnológicas&#39;) %&gt;% </span></span>
<span id="cb226-4"><a href="tse-formateo.html#cb226-4"></a><span class="st">    hc_xAxis(categories=tab01[,1]) %&gt;% </span></span>
<span id="cb226-5"><a href="tse-formateo.html#cb226-5"></a><span class="st">    hc_yAxis_multiples(list(title = list(text = &#39;</span>Millones de dólares&#39;), min=<span class="dv">0</span>, max=<span class="dv">100000</span><span class="er">)</span>,<span class="kw">list</span>(<span class="dt">title =</span> <span class="kw">list</span>(<span class="dt">text =</span> <span class="st">&#39;Porcentaje&#39;</span>), <span class="dt">min=</span><span class="dv">0</span>,<span class="dt">max=</span><span class="dv">100</span>, <span class="dt">opposite =</span> <span class="ot">TRUE</span>)<span class="er">)</span><span class="op">%&gt;%</span></span>
<span id="cb226-6"><a href="tse-formateo.html#cb226-6"></a><span class="st">    </span><span class="kw">hc_add_series</span>(<span class="dt">data=</span>tab01[,<span class="dv">2</span>], <span class="dt">name=</span><span class="st">&#39;IV de 2018&#39;</span>,<span class="dt">dataLabels=</span><span class="kw">list</span>(<span class="dt">enabled=</span><span class="ot">TRUE</span>), <span class="dt">color=</span><span class="st">&#39;salmon&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb226-7"><a href="tse-formateo.html#cb226-7"></a><span class="st">    </span><span class="kw">hc_add_series</span>(<span class="dt">data=</span>tab01[,<span class="dv">3</span>], <span class="dt">name=</span><span class="st">&#39;I de 2019&#39;</span>,<span class="dt">dataLabels=</span><span class="kw">list</span>(<span class="dt">enabled=</span><span class="ot">TRUE</span>), <span class="dt">color=</span><span class="st">&#39;darksalmon&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb226-8"><a href="tse-formateo.html#cb226-8"></a><span class="st">    </span><span class="kw">hc_add_series</span>(<span class="dt">data=</span>tab01[,<span class="dv">4</span>], <span class="dt">name=</span><span class="st">&#39;Diferencia&#39;</span>,<span class="dt">dataLabels=</span><span class="kw">list</span>(<span class="dt">enabled=</span><span class="ot">TRUE</span>), <span class="dt">color=</span><span class="st">&#39;teal&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb226-9"><a href="tse-formateo.html#cb226-9"></a><span class="st">    </span><span class="kw">hc_add_series</span>(<span class="dt">data=</span>tab01[,<span class="dv">5</span>], <span class="dt">name=</span><span class="st">&#39;Diferencia porcentual&#39;</span>,<span class="dt">dataLabels=</span><span class="kw">list</span>(<span class="dt">enabled=</span><span class="ot">TRUE</span>, <span class="dt">format=</span><span class="st">&#39;{point.y} %&#39;</span>), <span class="dt">color=</span><span class="st">&#39;darkblue&#39;</span>, <span class="dt">yAxis=</span><span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-156"></span>
<div id="htmlwidget-54ea5961edb985ead209" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-54ea5961edb985ead209">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Cifra de negocio de las 5 mayores tecnológicas"},"yAxis":[{"title":{"text":"Millones de dólares"},"min":0,"max":100000},{"title":{"text":"Porcentaje"},"min":0,"max":100,"opposite":true}],"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"categories":["Amazon","Apple","Facebook","Google","Microsoft"]},"series":[{"data":[87400,91819,21082,46075,36906],"name":"IV de 2018","dataLabels":{"enabled":true},"color":"salmon"},{"data":[72400,84310,16914,39276,32471],"name":"I de 2019","dataLabels":{"enabled":true},"color":"darksalmon"},{"data":[15000,7509,4168,6799,4435],"name":"Diferencia","dataLabels":{"enabled":true},"color":"teal"},{"data":[20.7,8.9,24.6,17.3,13.7],"name":"Diferencia porcentual","dataLabels":{"enabled":true,"format":"{point.y} %"},"color":"darkblue","yAxis":1}]},"theme":{"colors":["#47475c","#61BC7B","#508CC8","#F49952","#9C9EDB","#6699a1"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Alegreya Sans SC","fontSize":"24px"}},"subtitle":{"align":"left","style":{"fontFamily":"Alegreya Sans","fontSize":"16px"}},"caption":{"style":{"fontFamily":"Alegreya Sans","fontSize":"14px"}},"credits":{"style":{"fontFamily":"Roboto","fontSize":"10px"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}},"tooltip":{"valueDecimals":2}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Alegreya+Sans+SC","Alegreya+Sans"],"debug":false},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 10.2: gráfic del dataframe
</p>
</div>
</div>
<div id="estilo-de-las-tablas" class="section level2">
<h2><span class="header-section-number">10.3</span> Estilo de las tablas</h2>
<div id="estilo-y-posición" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Estilo y posición</h3>
<p>Vamos ahora a trabajar con la con la tabla y realizaremos algunos cambios sobre ella. Utilizaremos el paquete <code>kableExtra</code>. Este paquete permite trabajar con los <em>dataframe</em> para formatear la manera en que se van a mostrar en la pantalla. Existen multitud de paquetes que nos permitirían hacer cosas semejantes, entre los que podríamos destacar <code>formattable</code>, <code>DT</code> o <code>flextable</code> entre otros.</p>
<p>Nuestro primer cambio va a ser mostrar de forma diferente nuestra tabla. Con un estilo diferente a lo que ha aprecido hasta ahora. Le vamos a aplicar el estilo típico de <strong>Bootstrap</strong>, conocida librería JS con la que fue desarrollada Twitter. Te recomendamos visitar la viñeta del paquete en este <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">sitio</a> si quieres ver todas sus posibilidades.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="tse-formateo.html#cb227-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb227-2"><a href="tse-formateo.html#cb227-2"></a><span class="st">    </span><span class="kw">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Se puede apreciar que el aspecto es diferente al mostrado por las tablas hasta ahora. Este sería el formato más básico de <em>Bootstrap</em>. Existen otras opciones entre las que vamos a ir añadiendo algunas características, aplicables a los formatos.</p>
<p>Usando <code>paper</code>…</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="tse-formateo.html#cb228-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb228-2"><a href="tse-formateo.html#cb228-2"></a><span class="st">  </span><span class="kw">kable_paper</span>(<span class="st">&#39;hover&#39;</span>)</span></code></pre></div>
<table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Usando <code>classic</code>…</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="tse-formateo.html#cb229-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb229-2"><a href="tse-formateo.html#cb229-2"></a><span class="st">  </span><span class="kw">kable_classic</span>(<span class="st">&#39;hover&#39;</span>)</span></code></pre></div>
<table class=" lightable-classic lightable-hover" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Usando <code>minimal</code>…</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="tse-formateo.html#cb230-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb230-2"><a href="tse-formateo.html#cb230-2"></a><span class="st">  </span><span class="kw">kable_minimal</span>(<span class="st">&#39;hover&#39;</span>)</span></code></pre></div>
<table class=" lightable-minimal lightable-hover" style='font-family: "Trebuchet MS", verdana, sans-serif; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Añadimos además del efecto <em>hover</em> con el ratón, el oscurecimiento o <em>striped</em> de las filas para facilitar la lectura y usabilidad.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="tse-formateo.html#cb231-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb231-2"><a href="tse-formateo.html#cb231-2"></a><span class="st">  </span><span class="kw">kable_material</span>(<span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>,<span class="st">&#39;hover&#39;</span>))</span></code></pre></div>
<table class=" lightable-material lightable-striped lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Finalizamos de nuevo con el primer formato que será el que mantendremos a partir de este momento.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="tse-formateo.html#cb232-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb232-2"><a href="tse-formateo.html#cb232-2"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>, <span class="st">&#39;hover&#39;</span>, <span class="st">&#39;condensed&#39;</span>, <span class="st">&#39;responsive&#39;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Una de las características que en algunos casos puede ser muy valiosa, es la posibilidad de establecer la tabla como flotante a derecha o izquierda del texto.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="tse-formateo.html#cb233-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb233-2"><a href="tse-formateo.html#cb233-2"></a><span class="st">  </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>, <span class="st">&#39;hover&#39;</span>, <span class="st">&#39;condensed&#39;</span>, <span class="st">&#39;responsive&#39;</span>), <span class="dt">full_width =</span> F, <span class="dt">position =</span> <span class="st">&#39;float_right&#39;</span>)</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; float: right; margin-left: 10px;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Este texto que estamos escribiendo, se ubicaría a la izquierda de la tabla, ya que hemos indicado que ésta debe ser situada a la derecha como elemento flotante. Al mismo tiempo se le ha incluido la posibilidad de que la tabla no ocupe el 100% del espacio sino que se autoajuste al tamaño de las columna. Este efecto puede ser muy utilizado para incluir comentarios sobre la tabla que estamos publicando. Como es lógico, la tabla puede ser flotante a la derecha o a la izquierda del texto.</p>
<p>Existen otras muchas características que pueden ser aplicadas para conseguir posicionar la tabla de la forma deseada:</p>
<ul>
<li>fijar la cabecera</li>
<li>incluir la tabla en una caja</li>
<li>aplicar tamaños de fuente</li>
<li>… y más.</li>
</ul>
</div>
<div id="formato-específico-de-fila-o-columna" class="section level3">
<h3><span class="header-section-number">10.3.2</span> Formato específico de fila o columna</h3>
<p>Veamos algunas de las posibilidades que nos ofrece <code>kableExtra</code>para formatear partes de la tabla. Para ello debemos saber que las columnas se identifican por número secuencial (1 a n) al igual que las filas. Se pueden aplicar formatos tanto a filas como a columnas. Para ilustrar un ejemplo, vamos a utilizar una función de R muy frecuente denominada <code>ifelse()</code> que es el equivalente a la función <code>SI()</code> de Excel y con una estructura idéntica. Esta función admite la concatenación y sus parámetros son por este orden:</p>
<ul>
<li>condición que debe cumplirse</li>
<li>resultado si verdadero</li>
<li>resultado si falso</li>
</ul>
<p>En nuestro caso nuestro resultado es la aplicación de un color verde o rojo según estemos por encima o por debajo de la media de la columna. Del mismo modo, también se puede aplicar como podemos observar un color directo a una columna determinada. Usaremos la función <code>column_spec()</code>.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="tse-formateo.html#cb234-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb234-2"><a href="tse-formateo.html#cb234-2"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>, <span class="st">&#39;hover&#39;</span>, <span class="st">&#39;condensed&#39;</span>, <span class="st">&#39;responsive&#39;</span>), <span class="dt">full_width =</span> F) <span class="op">%&gt;%</span></span>
<span id="cb234-3"><a href="tse-formateo.html#cb234-3"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&#39;teal&#39;</span>, <span class="dt">bold =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb234-4"><a href="tse-formateo.html#cb234-4"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">5</span>, <span class="dt">color =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">background =</span> <span class="kw">ifelse</span>(tab01<span class="op">$</span>difpct<span class="op">&gt;</span><span class="kw">mean</span>(tab01<span class="op">$</span>difpct), <span class="st">&#39;green&#39;</span>, <span class="st">&#39;salmon&#39;</span>),<span class="dt">popover =</span> <span class="kw">paste</span>(tab01[,<span class="dv">1</span>]))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;color: white !important;background-color: green !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Amazon">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Apple">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;color: white !important;background-color: green !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Facebook">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;color: white !important;background-color: green !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Google">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Microsoft">
13.7
</td>
</tr>
</tbody>
</table>
<p>Otra posibilidad es la de poder marcar celdas cell_spec() o filas con <code>row_spec()</code>en particular …</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="tse-formateo.html#cb235-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb235-2"><a href="tse-formateo.html#cb235-2"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>, <span class="st">&#39;hover&#39;</span>, <span class="st">&#39;condensed&#39;</span>, <span class="st">&#39;responsive&#39;</span>), <span class="dt">full_width =</span> F) <span class="op">%&gt;%</span></span>
<span id="cb235-3"><a href="tse-formateo.html#cb235-3"></a><span class="st">    </span><span class="kw">row_spec</span>(<span class="dv">3</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">bold =</span> T, <span class="dt">color =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">background =</span> <span class="st">&#39;teal&#39;</span>)</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: teal !important;">
Facebook
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
21082
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
16914
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
4168
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: teal !important;">
Google
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
46075
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
39276
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
6799
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: teal !important;">
Microsoft
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
36906
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
32471
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
4435
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;">
13.7
</td>
</tr>
</tbody>
</table>
<p>Un caso particular para la fila 0, la de encabezado.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="tse-formateo.html#cb236-1"></a><span class="kw">kbl</span>(tab01) <span class="op">%&gt;%</span></span>
<span id="cb236-2"><a href="tse-formateo.html#cb236-2"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>,<span class="st">&#39;hovered&#39;</span>), <span class="dt">full_width =</span> F) <span class="op">%&gt;%</span></span>
<span id="cb236-3"><a href="tse-formateo.html#cb236-3"></a><span class="st">    </span><span class="kw">row_spec</span>(<span class="dv">0</span>, <span class="dt">angle =</span> <span class="dv">-20</span>, <span class="dt">align =</span> <span class="st">&#39;left&#39;</span>, <span class="dt">background =</span> <span class="st">&#39;teal&#39;</span>, <span class="dt">color =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">bold =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-4"><a href="tse-formateo.html#cb236-4"></a><span class="st">    </span><span class="kw">row_spec</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">align =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">background =</span> <span class="st">&#39;lightsalmon&#39;</span>)</span></code></pre></div>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: teal !important;text-align: left;-webkit-transform: rotate(-20deg); -moz-transform: rotate(-20deg); -ms-transform: rotate(-20deg); -o-transform: rotate(-20deg); transform: rotate(-20deg);">
empresa
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;text-align: left;-webkit-transform: rotate(-20deg); -moz-transform: rotate(-20deg); -ms-transform: rotate(-20deg); -o-transform: rotate(-20deg); transform: rotate(-20deg);">
2019 (1º)
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;text-align: left;-webkit-transform: rotate(-20deg); -moz-transform: rotate(-20deg); -ms-transform: rotate(-20deg); -o-transform: rotate(-20deg); transform: rotate(-20deg);">
2018 (4º)
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;text-align: left;-webkit-transform: rotate(-20deg); -moz-transform: rotate(-20deg); -ms-transform: rotate(-20deg); -o-transform: rotate(-20deg); transform: rotate(-20deg);">
dif
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: teal !important;text-align: left;-webkit-transform: rotate(-20deg); -moz-transform: rotate(-20deg); -ms-transform: rotate(-20deg); -o-transform: rotate(-20deg); transform: rotate(-20deg);">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;background-color: lightsalmon !important;text-align: center;">
Amazon
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
87400
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
72400
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
15000
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;background-color: lightsalmon !important;text-align: center;">
Apple
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
91819
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
84310
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
7509
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;background-color: lightsalmon !important;text-align: center;">
Facebook
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
21082
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
16914
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
4168
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;background-color: lightsalmon !important;text-align: center;">
Google
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
46075
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
39276
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
6799
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;background-color: lightsalmon !important;text-align: center;">
Microsoft
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
36906
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
32471
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
4435
</td>
<td style="text-align:right;background-color: lightsalmon !important;text-align: center;">
13.7
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="adición-de-imágenes-y-de-otros-elementos" class="section level2">
<h2><span class="header-section-number">10.4</span> Adición de imágenes y de otros elementos</h2>
<p>Ya para finalizar, es muy habitual querer utilizar imágenes para ilustrar la tabla, darle un aspecto más impactante. Vemos como hacerlo. Esta imagen puede sustituir el contenido completo de la columna o añadirse al final de la misma. En nuestro ejemplo queremos sustituir, por lo que nuestra primera instrucción <em>limpia</em> la columna de tab01 denominada empresa. Posteriormente se crea un vector con las cinco imágenes que aprovecharemos en la columna 1. Para no perder nuestra tabla original, hacemos un copia de la misma en tab02.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="tse-formateo.html#cb237-1"></a>tab02 &lt;-<span class="st"> </span>tab01</span>
<span id="cb237-2"><a href="tse-formateo.html#cb237-2"></a>tab02<span class="op">$</span>empresa &lt;-<span class="st"> &#39;&#39;</span></span>
<span id="cb237-3"><a href="tse-formateo.html#cb237-3"></a>vector.img &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;https://download.tesigandia.com/test/20201112113121.png&#39;</span>,</span>
<span id="cb237-4"><a href="tse-formateo.html#cb237-4"></a>         <span class="st">&#39;https://download.tesigandia.com/test/20201112112927.png&#39;</span>,</span>
<span id="cb237-5"><a href="tse-formateo.html#cb237-5"></a>         <span class="st">&#39;https://download.tesigandia.com/test/20201112113240.png&#39;</span>,</span>
<span id="cb237-6"><a href="tse-formateo.html#cb237-6"></a>         <span class="st">&#39;https://download.tesigandia.com/test/20201112113259.png&#39;</span>,</span>
<span id="cb237-7"><a href="tse-formateo.html#cb237-7"></a>         <span class="st">&#39;https://download.tesigandia.com/test/20201112113048.png&#39;</span>)</span>
<span id="cb237-8"><a href="tse-formateo.html#cb237-8"></a><span class="kw">kbl</span>(tab02) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb237-9"><a href="tse-formateo.html#cb237-9"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;hover&#39;</span>), <span class="dt">full_width =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span></span>
<span id="cb237-10"><a href="tse-formateo.html#cb237-10"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">1</span>, <span class="dt">image =</span> vector.img) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb237-11"><a href="tse-formateo.html#cb237-11"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&#39;teal&#39;</span>, <span class="dt">bold =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb237-12"><a href="tse-formateo.html#cb237-12"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">5</span>, <span class="dt">color =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">background =</span> <span class="kw">ifelse</span>(tab02<span class="op">$</span>difpct<span class="op">&gt;</span><span class="kw">mean</span>(tab02<span class="op">$</span>difpct), <span class="st">&#39;green&#39;</span>, <span class="st">&#39;salmon&#39;</span>))</span></code></pre></div>
<table class="table table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="https://download.tesigandia.com/test/20201112113121.png">
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;color: white !important;background-color: green !important;">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="https://download.tesigandia.com/test/20201112112927.png">
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="https://download.tesigandia.com/test/20201112113240.png">
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;color: white !important;background-color: green !important;">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="https://download.tesigandia.com/test/20201112113259.png">
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;color: white !important;background-color: green !important;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="https://download.tesigandia.com/test/20201112113048.png">
</td>
<td style="text-align:right;font-weight: bold;color: teal !important;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;">
13.7
</td>
</tr>
</tbody>
</table>
<div id="adición-de-iconos-de-fontawesome" class="section level3">
<h3><span class="header-section-number">10.4.1</span> Adición de iconos de FontAwesome</h3>
<p>En la siguiente tabla, vamos a añadir las marcas de icono llamadas <a href="https://fontawesome.com/v4.7.0/icons/"><code>fontawesome</code></a> que permite reproducir en modo texto los iconos más típicos. En nuestro caso y siguiendo el uso de la función <code>ifelse</code> que hemos visto antes, añadiremos una flecha arriba verde si la media de la cifra de negocio es mayor que la media o una flecha abajo roja si es menor.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="tse-formateo.html#cb238-1"></a>tab02 &lt;-<span class="st"> </span>tab01</span>
<span id="cb238-2"><a href="tse-formateo.html#cb238-2"></a>tab02[,<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="kw">ifelse</span>(tab02[,<span class="dv">2</span>]<span class="op">&gt;</span><span class="kw">mean</span>(tab02[,<span class="dv">2</span>]), <span class="kw">paste</span>(tab02[,<span class="dv">2</span>], <span class="kw">fa</span>(<span class="st">&#39;arrow-circle-up&#39;</span>, <span class="dt">fill=</span><span class="st">&#39;green&#39;</span>)), <span class="kw">paste</span>(tab02[,<span class="dv">2</span>], <span class="kw">fa</span>(<span class="st">&#39;arrow-circle-down&#39;</span>, <span class="dt">fill=</span><span class="st">&#39;red&#39;</span>)))</span>
<span id="cb238-3"><a href="tse-formateo.html#cb238-3"></a><span class="kw">kbl</span>(tab02, <span class="dt">escape=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span></span>
<span id="cb238-4"><a href="tse-formateo.html#cb238-4"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>, <span class="st">&#39;hover&#39;</span>, <span class="st">&#39;condensed&#39;</span>, <span class="st">&#39;responsive&#39;</span>), <span class="dt">full_width =</span> F) <span class="op">%&gt;%</span></span>
<span id="cb238-5"><a href="tse-formateo.html#cb238-5"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&#39;teal&#39;</span>, <span class="dt">bold =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb238-6"><a href="tse-formateo.html#cb238-6"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">5</span>, <span class="dt">color =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">background =</span> <span class="kw">ifelse</span>(tab02<span class="op">$</span>difpct<span class="op">&gt;</span><span class="kw">mean</span>(tab01<span class="op">$</span>difpct), <span class="st">&#39;green&#39;</span>, <span class="st">&#39;salmon&#39;</span>),<span class="dt">popover =</span> <span class="kw">paste</span>(tab02[,<span class="dv">1</span>]))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:left;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
87400 <svg style="height:0.8em;top:.04em;position:relative;fill:green;" viewbox="0 0 512 512"><path d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"></path></svg>
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;color: white !important;background-color: green !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Amazon">
20.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
91819 <svg style="height:0.8em;top:.04em;position:relative;fill:green;" viewbox="0 0 512 512"><path d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"></path></svg>
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Apple">
8.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
21082 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewbox="0 0 512 512"><path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"></path></svg>
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;color: white !important;background-color: green !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Facebook">
24.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
46075 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewbox="0 0 512 512"><path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"></path></svg>
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;color: white !important;background-color: green !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Google">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
36906 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewbox="0 0 512 512"><path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"></path></svg>
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;" data-toggle="popover" data-container="body" data-trigger="hover" data-placement="right" data-content="Microsoft">
13.7
</td>
</tr>
</tbody>
</table>
</div>
<div id="adición-de-gráficos-de-tipo-sparkline" class="section level3">
<h3><span class="header-section-number">10.4.2</span> Adición de gráficos de tipo sparkline</h3>
<p>Dado que no tenemos datos para poder representar, vamos a suponer una serie de datos para cada empresa y vamos a hacer un gráfico de líneas de tipo <code>sparkline</code>, que vamos a integra como una columna más de nuestra tabla. <code>sparkline</code> es un paquete de R que utiliza la librería <code>jquery sparklines</code> para presentar gráficos minimalistas y ser integrados en nuestros <em>dataframe</em>, y por tanto, publicados en tablas.</p>
<p>En primer lugar creamos la serie de datos para cada empresa y lo vamos a hacer usando la función <code>sample()</code> que nos aportará 15 valores aleatorios entre 1 y 100 con posibilidad de repetición. Esta es una fórmula muy sencilla que se utiliza mucho en R para crear datos de test.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="tse-formateo.html#cb239-1"></a><span class="kw">sparkline</span>(<span class="dv">0</span>) <span class="co">#inicializamos la función sparkline</span></span></code></pre></div>
<span id="htmlwidget-efadbf31a9b90916b376" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-efadbf31a9b90916b376">{"x":{"values":0,"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="tse-formateo.html#cb240-1"></a>amz &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">15</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-2"><a href="tse-formateo.html#cb240-2"></a>app &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">15</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-3"><a href="tse-formateo.html#cb240-3"></a>fac &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">15</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-4"><a href="tse-formateo.html#cb240-4"></a>goo &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">15</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-5"><a href="tse-formateo.html#cb240-5"></a>mic &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">15</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-6"><a href="tse-formateo.html#cb240-6"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(amz,app,fac,goo,mic) <span class="co"># los unimos para mostrarlos en forma de tabla, aunque no sería necesario.</span></span>
<span id="cb240-7"><a href="tse-formateo.html#cb240-7"></a>df</span></code></pre></div>
<pre><code>   amz app fac goo mic
1   64  85  71  43  20
2   70  85  80  28  55
3   86  17   7  30  21
4   76  42  42  85  72
5   54  35  91  57   9
6   65  29   4  23  25
7   71  75  26  46  72
8   82  88  75  93 100
9    4  13  66   3  84
10  82  18  44  47  18
11  79  75  21  54  30
12  17   4  73  27   6
13  56  27   9  96  72
14  49  27  65   4  99
15  91  59  36  17  95</code></pre>
<p>Una vez tenemos esto Lo hemos juntado en un _dataframe para que se vea mejor, vamos a añadir una nueva columna a nuestra tabla, con la información del gráfico.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="tse-formateo.html#cb242-1"></a>tab03 &lt;-<span class="st"> </span>tab01</span>
<span id="cb242-2"><a href="tse-formateo.html#cb242-2"></a>tab03<span class="op">$</span>sparkline =<span class="st"> </span><span class="kw">c</span>(<span class="kw">spk_chr</span>(amz), <span class="kw">spk_chr</span>(app), <span class="kw">spk_chr</span>(fac), <span class="kw">spk_chr</span>(goo), <span class="kw">spk_chr</span>(mic))</span>
<span id="cb242-3"><a href="tse-formateo.html#cb242-3"></a><span class="kw">kbl</span>(tab03, <span class="dt">escape =</span> F) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb242-4"><a href="tse-formateo.html#cb242-4"></a><span class="st">  </span><span class="kw">kable_styling</span>(<span class="dt">full_width=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:right;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
<th style="text-align:left;">
sparkline
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:right;">
87400
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;">
20.7
</td>
<td style="text-align:left;">
<span id="htmlwidget-62e181fb9d9eaa35c2d0" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-62e181fb9d9eaa35c2d0">{"x":{"values":[64,70,86,76,54,65,71,82,4,82,79,17,56,49,91],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:right;">
91819
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;">
8.9
</td>
<td style="text-align:left;">
<span id="htmlwidget-5f439c6ed621a8283c8d" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-5f439c6ed621a8283c8d">{"x":{"values":[85,85,17,42,35,29,75,88,13,18,75,4,27,27,59],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:right;">
21082
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;">
24.6
</td>
<td style="text-align:left;">
<span id="htmlwidget-6826d0fbc785d9bc59dd" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-6826d0fbc785d9bc59dd">{"x":{"values":[71,80,7,42,91,4,26,75,66,44,21,73,9,65,36],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:right;">
46075
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;">
17.3
</td>
<td style="text-align:left;">
<span id="htmlwidget-81329fa253569dd45add" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-81329fa253569dd45add">{"x":{"values":[43,28,30,85,57,23,46,93,3,47,54,27,96,4,17],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:right;">
36906
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;">
13.7
</td>
<td style="text-align:left;">
<span id="htmlwidget-94fb74cf8bb9d62afbe0" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-94fb74cf8bb9d62afbe0">{"x":{"values":[20,55,21,72,9,25,72,100,84,18,30,6,72,99,95],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
</tbody>
</table>
<p>La última columna de la tabla muestra los gráficos obtenidos. Nótese que los datos de la última columna han sido calculados con una fuente de datos diferente, por lo que esta tabla está presentando inputs obtenidos de dos fuentes. Por una lado nuestra vieja tabla y por otro lado la nueva información que le incorporamos.</p>
<p>Y finalmente, mostramos casi todo lo que hemos hecho junto, no son cosas separadas.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="tse-formateo.html#cb243-1"></a>tab02 &lt;-<span class="st"> </span>tab03</span>
<span id="cb243-2"><a href="tse-formateo.html#cb243-2"></a>tab02[,<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="kw">ifelse</span>(tab02[,<span class="dv">2</span>]<span class="op">&gt;</span><span class="kw">mean</span>(tab02[,<span class="dv">2</span>]), <span class="kw">paste</span>(tab02[,<span class="dv">2</span>], <span class="kw">fa</span>(<span class="st">&#39;arrow-circle-up&#39;</span>, <span class="dt">fill=</span><span class="st">&#39;green&#39;</span>)), <span class="kw">paste</span>(tab02[,<span class="dv">2</span>], <span class="kw">fa</span>(<span class="st">&#39;arrow-circle-down&#39;</span>, <span class="dt">fill=</span><span class="st">&#39;red&#39;</span>)))</span>
<span id="cb243-3"><a href="tse-formateo.html#cb243-3"></a><span class="kw">kbl</span>(tab02, <span class="dt">escape=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span></span>
<span id="cb243-4"><a href="tse-formateo.html#cb243-4"></a><span class="st">    </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&#39;striped&#39;</span>, <span class="st">&#39;hover&#39;</span>, <span class="st">&#39;condensed&#39;</span>, <span class="st">&#39;responsive&#39;</span>), <span class="dt">full_width =</span> F) <span class="op">%&gt;%</span></span>
<span id="cb243-5"><a href="tse-formateo.html#cb243-5"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&#39;teal&#39;</span>, <span class="dt">bold =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb243-6"><a href="tse-formateo.html#cb243-6"></a><span class="st">    </span><span class="kw">column_spec</span>(<span class="dv">5</span>, <span class="dt">color =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">background =</span> <span class="kw">ifelse</span>(tab02<span class="op">$</span>difpct<span class="op">&gt;</span><span class="kw">mean</span>(tab01<span class="op">$</span>difpct), <span class="st">&#39;green&#39;</span>, <span class="st">&#39;salmon&#39;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
empresa
</th>
<th style="text-align:left;">
2019 (1º)
</th>
<th style="text-align:right;">
2018 (4º)
</th>
<th style="text-align:right;">
dif
</th>
<th style="text-align:right;">
difpct
</th>
<th style="text-align:left;">
sparkline
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
87400 <svg style="height:0.8em;top:.04em;position:relative;fill:green;" viewbox="0 0 512 512"><path d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"></path></svg>
</td>
<td style="text-align:right;">
72400
</td>
<td style="text-align:right;">
15000
</td>
<td style="text-align:right;color: white !important;background-color: green !important;">
20.7
</td>
<td style="text-align:left;">
<span id="htmlwidget-62e181fb9d9eaa35c2d0" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-62e181fb9d9eaa35c2d0">{"x":{"values":[64,70,86,76,54,65,71,82,4,82,79,17,56,49,91],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Apple
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
91819 <svg style="height:0.8em;top:.04em;position:relative;fill:green;" viewbox="0 0 512 512"><path d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"></path></svg>
</td>
<td style="text-align:right;">
84310
</td>
<td style="text-align:right;">
7509
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;">
8.9
</td>
<td style="text-align:left;">
<span id="htmlwidget-5f439c6ed621a8283c8d" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-5f439c6ed621a8283c8d">{"x":{"values":[85,85,17,42,35,29,75,88,13,18,75,4,27,27,59],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Facebook
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
21082 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewbox="0 0 512 512"><path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"></path></svg>
</td>
<td style="text-align:right;">
16914
</td>
<td style="text-align:right;">
4168
</td>
<td style="text-align:right;color: white !important;background-color: green !important;">
24.6
</td>
<td style="text-align:left;">
<span id="htmlwidget-6826d0fbc785d9bc59dd" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-6826d0fbc785d9bc59dd">{"x":{"values":[71,80,7,42,91,4,26,75,66,44,21,73,9,65,36],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Google
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
46075 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewbox="0 0 512 512"><path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"></path></svg>
</td>
<td style="text-align:right;">
39276
</td>
<td style="text-align:right;">
6799
</td>
<td style="text-align:right;color: white !important;background-color: green !important;">
17.3
</td>
<td style="text-align:left;">
<span id="htmlwidget-81329fa253569dd45add" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-81329fa253569dd45add">{"x":{"values":[43,28,30,85,57,23,46,93,3,47,54,27,96,4,17],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td style="text-align:left;">
Microsoft
</td>
<td style="text-align:left;font-weight: bold;color: teal !important;">
36906 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewbox="0 0 512 512"><path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"></path></svg>
</td>
<td style="text-align:right;">
32471
</td>
<td style="text-align:right;">
4435
</td>
<td style="text-align:right;color: white !important;background-color: salmon !important;">
13.7
</td>
<td style="text-align:left;">
<span id="htmlwidget-94fb74cf8bb9d62afbe0" class="sparkline html-widget"></span>
<script type="application/json" data-for="htmlwidget-94fb74cf8bb9d62afbe0">{"x":{"values":[20,55,21,72,9,25,72,100,84,18,30,6,72,99,95],"options":{"height":20,"width":60},"width":60,"height":20},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
</tbody>
</table>
<p>Si deseas consultar más información sobre la librería <code>jQuery Sparklines</code> accede al <a href="https://omnipotent.net/jquery.sparkline/#s-about">enlace</a>. Enlace antiguo, pero con muchísima utilidad.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tse08.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tse09.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
