<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Tablas especiales | Tablas y gráficos con R y R Studio</title>
  <meta name="description" content="Guía para la realización de tablas de contingencia, reproduciendo tablas del tipo SPSS o BarbWin usando el paquete expss y visualizaciones de resultados con el paquete highcharter. Introducción al uso de scripts con R en el entorno de R Studio." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Tablas especiales | Tablas y gráficos con R y R Studio" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Guía para la realización de tablas de contingencia, reproduciendo tablas del tipo SPSS o BarbWin usando el paquete expss y visualizaciones de resultados con el paquete highcharter. Introducción al uso de scripts con R en el entorno de R Studio." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Tablas especiales | Tablas y gráficos con R y R Studio" />
  
  <meta name="twitter:description" content="Guía para la realización de tablas de contingencia, reproduciendo tablas del tipo SPSS o BarbWin usando el paquete expss y visualizaciones de resultados con el paquete highcharter. Introducción al uso de scripts con R en el entorno de R Studio." />
  

<meta name="author" content="Roberto Gil-Saura " />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tse04.html"/>
<link rel="next" href="tse06.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.17/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/jquery-sparkline-2.1.2/jquery.sparkline.css" rel="stylesheet" />
<script src="libs/jquery-sparkline-2.1.2/jquery.sparkline.js"></script>
<script src="libs/sparkline-binding-2.0/sparkline.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><br><a href="./">Tablas y gráficos con R y RStudio</a><br></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="1" data-path="tse01.html"><a href="tse01.html"><i class="fa fa-check"></i><b>1</b> Introducción</a>
<ul>
<li class="chapter" data-level="1.1" data-path="tse01.html"><a href="tse01.html#por-qué-este-libro"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué este libro?</a></li>
<li class="chapter" data-level="1.2" data-path="tse01.html"><a href="tse01.html#para-quién-este-libro"><i class="fa fa-check"></i><b>1.2</b> ¿Para quién este libro?</a></li>
<li class="chapter" data-level="1.3" data-path="tse01.html"><a href="tse01.html#estructura-del-documento"><i class="fa fa-check"></i><b>1.3</b> Estructura del documento</a></li>
<li class="chapter" data-level="1.4" data-path="tse01.html"><a href="tse01.html#instalación-de-r-y-r-studio"><i class="fa fa-check"></i><b>1.4</b> Instalación de R y R Studio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="tse01.html"><a href="tse01.html#instalación-de-r-en-windows"><i class="fa fa-check"></i><b>1.4.1</b> Instalación de R en Windows</a></li>
<li class="chapter" data-level="1.4.2" data-path="tse01.html"><a href="tse01.html#instalación-de-r-studio-en-windows"><i class="fa fa-check"></i><b>1.4.2</b> Instalación de R Studio en Windows</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="tse01.html"><a href="tse01.html#uso-básico-de-r-studio-y-de-r"><i class="fa fa-check"></i><b>1.5</b> Uso básico de R Studio y de R</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="tse01.html"><a href="tse01.html#qué-es-r-studio-una-interfaz-para-usar-r"><i class="fa fa-check"></i><b>1.5.1</b> ¿Qué es R Studio?: una interfaz para usar R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tse02.html"><a href="tse02.html"><i class="fa fa-check"></i><b>2</b> Primeros pasos y términos a conocer</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tse02.html"><a href="tse02.html#desde-dónde-creo-mis-scripts"><i class="fa fa-check"></i><b>2.1</b> ¿Desde dónde creo mis scripts?</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="tse02.html"><a href="tse02.html#scripts-en-consola"><i class="fa fa-check"></i><b>2.1.1</b> Scripts en consola</a></li>
<li class="chapter" data-level="2.1.2" data-path="tse02.html"><a href="tse02.html#scripting-con-markdown"><i class="fa fa-check"></i><b>2.1.2</b> Scripting con <em>markdown</em></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="tse02.html"><a href="tse02.html#primeros-pasos"><i class="fa fa-check"></i><b>2.2</b> Primeros pasos</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="tse02.html"><a href="tse02.html#carga-de-datos"><i class="fa fa-check"></i><b>2.2.1</b> Carga de datos</a></li>
<li class="chapter" data-level="2.2.2" data-path="tse02.html"><a href="tse02.html#instalación-de-paquetes"><i class="fa fa-check"></i><b>2.2.2</b> Instalación de paquetes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="tse02.html"><a href="tse02.html#crear-un-fichero-r-markdown"><i class="fa fa-check"></i><b>2.3</b> Crear un fichero R Markdown</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="tse02.html"><a href="tse02.html#conclusión"><i class="fa fa-check"></i><b>2.3.1</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tse02.html"><a href="tse02.html#básicos-de-r-yo-proceso-de-datos"><i class="fa fa-check"></i><b>2.4</b> Básicos de R y/o proceso de datos</a></li>
<li class="chapter" data-level="2.5" data-path="tse02.html"><a href="tse02.html#básicos-de-tabulación"><i class="fa fa-check"></i><b>2.5</b> Básicos de tabulación</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tse03.html"><a href="tse03.html"><i class="fa fa-check"></i><b>3</b> Tablas marginales</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tse03.html"><a href="tse03.html#una-pequeña-introducción"><i class="fa fa-check"></i><b>3.1</b> Una pequeña introducción</a></li>
<li class="chapter" data-level="3.2" data-path="tse03.html"><a href="tse03.html#frecuencias"><i class="fa fa-check"></i><b>3.2</b> Frecuencias</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tse03.html"><a href="tse03.html#variables-de-respuesta-simple"><i class="fa fa-check"></i><b>3.2.1</b> Variables de respuesta simple</a></li>
<li class="chapter" data-level="3.2.2" data-path="tse03.html"><a href="tse03.html#variable-de-respuesta-múltiple"><i class="fa fa-check"></i><b>3.2.2</b> Variable de respuesta múltiple</a></li>
<li class="chapter" data-level="3.2.3" data-path="tse03.html"><a href="tse03.html#tablas-combinadas"><i class="fa fa-check"></i><b>3.2.3</b> Tablas combinadas</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tse03.html"><a href="tse03.html#estadísticos"><i class="fa fa-check"></i><b>3.3</b> Estadísticos</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="tse03.html"><a href="tse03.html#estadísticos-básicos"><i class="fa fa-check"></i><b>3.3.1</b> Estadísticos básicos</a></li>
<li class="chapter" data-level="3.3.2" data-path="tse03.html"><a href="tse03.html#otros-estadísticos"><i class="fa fa-check"></i><b>3.3.2</b> Otros estadísticos</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tse03.html"><a href="tse03.html#conclusión-1"><i class="fa fa-check"></i><b>3.4</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tse04.html"><a href="tse04.html"><i class="fa fa-check"></i><b>4</b> Tablas cruzadas</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tse04.html"><a href="tse04.html#básica-con-variables-simples"><i class="fa fa-check"></i><b>4.1</b> Básica con variables simples</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-y-sólo-absolutos"><i class="fa fa-check"></i><b>4.1.1</b> De frecuencias, variable simple y sólo absolutos</a></li>
<li class="chapter" data-level="4.1.2" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-con-porcentajes-de-columna"><i class="fa fa-check"></i><b>4.1.2</b> De frecuencias, variable simple, con porcentajes de columna</a></li>
<li class="chapter" data-level="4.1.3" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-con-porcentajes-de-fila"><i class="fa fa-check"></i><b>4.1.3</b> De frecuencias, variable simple, con porcentajes de fila</a></li>
<li class="chapter" data-level="4.1.4" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-simple-con-porcentajes-total-muestra"><i class="fa fa-check"></i><b>4.1.4</b> De frecuencias, variable simple, con porcentajes total muestra</a></li>
<li class="chapter" data-level="4.1.5" data-path="tse04.html"><a href="tse04.html#combinaciones-de-los-anteriores"><i class="fa fa-check"></i><b>4.1.5</b> Combinaciones de los anteriores</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tse04.html"><a href="tse04.html#básica-con-múltiples"><i class="fa fa-check"></i><b>4.2</b> Básica con múltiples</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-y-sólo-absolutos"><i class="fa fa-check"></i><b>4.2.1</b> De frecuencias, variable múltiple y sólo absolutos</a></li>
<li class="chapter" data-level="4.2.2" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-con-porcentajes-de-columna"><i class="fa fa-check"></i><b>4.2.2</b> De frecuencias, variable múltiple, con porcentajes de columna</a></li>
<li class="chapter" data-level="4.2.3" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-con-porcentajes-de-fila"><i class="fa fa-check"></i><b>4.2.3</b> De frecuencias, variable múltiple, con porcentajes de fila</a></li>
<li class="chapter" data-level="4.2.4" data-path="tse04.html"><a href="tse04.html#de-frecuencias-variable-múltiple-con-porcentajes-total-muestra"><i class="fa fa-check"></i><b>4.2.4</b> De frecuencias, variable múltiple, con porcentajes total muestra</a></li>
<li class="chapter" data-level="4.2.5" data-path="tse04.html"><a href="tse04.html#combinaciones-de-los-anteriores-1"><i class="fa fa-check"></i><b>4.2.5</b> Combinaciones de los anteriores</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tse04.html"><a href="tse04.html#básica-con-estadísticos"><i class="fa fa-check"></i><b>4.3</b> Básica con estadísticos</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tse04.html"><a href="tse04.html#cruce-entre-variable-simple-y-dos-estadísticos"><i class="fa fa-check"></i><b>4.3.1</b> Cruce entre variable simple y dos estadísticos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tse05.html"><a href="tse05.html"><i class="fa fa-check"></i><b>5</b> Tablas especiales</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tse05.html"><a href="tse05.html#subgrupos-filtros-en-la-tabla"><i class="fa fa-check"></i><b>5.1</b> Subgrupos (filtros en la tabla)</a></li>
<li class="chapter" data-level="5.2" data-path="tse05.html"><a href="tse05.html#bases-yo-con-anidación"><i class="fa fa-check"></i><b>5.2</b> Bases y/o con anidación</a></li>
<li class="chapter" data-level="5.3" data-path="tse05.html"><a href="tse05.html#características-avanzadas"><i class="fa fa-check"></i><b>5.3</b> Características avanzadas</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tse06.html"><a href="tse06.html"><i class="fa fa-check"></i><b>6</b> Otras utilidades y tablas especiales</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tse06.html"><a href="tse06.html#plan"><i class="fa fa-check"></i><b>6.1</b> Plan de códigos</a></li>
<li class="chapter" data-level="6.2" data-path="tse06.html"><a href="tse06.html#recode"><i class="fa fa-check"></i><b>6.2</b> Recodificar</a></li>
<li class="chapter" data-level="6.3" data-path="tse06.html"><a href="tse06.html#cuadros"><i class="fa fa-check"></i><b>6.3</b> Cuadros</a></li>
<li class="chapter" data-level="6.4" data-path="tse06.html"><a href="tse06.html#ponderación"><i class="fa fa-check"></i><b>6.4</b> Ponderación</a></li>
<li class="chapter" data-level="6.5" data-path="tse06.html"><a href="tse06.html#subtotales-y-nets"><i class="fa fa-check"></i><b>6.5</b> Subtotales y NETS</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="tse06.html"><a href="tse06.html#subtotales"><i class="fa fa-check"></i><b>6.5.1</b> Subtotales</a></li>
<li class="chapter" data-level="6.5.2" data-path="tse06.html"><a href="tse06.html#nets"><i class="fa fa-check"></i><b>6.5.2</b> NETS</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="tse06.html"><a href="tse06.html#top-y-bottom"><i class="fa fa-check"></i><b>6.6</b> <em>Top</em> y <em>Bottom</em></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="tse06.html"><a href="tse06.html#gráficos-base"><i class="fa fa-check"></i><b>6.6.1</b> Gráficos base</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tse07.html"><a href="tse07.html"><i class="fa fa-check"></i><b>7</b> Pruebas inferenciales</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tse07.html"><a href="tse07.html#prueba-de-dependencia"><i class="fa fa-check"></i><b>7.1</b> Prueba de dependencia</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="tse07.html"><a href="tse07.html#de-una-tabla"><i class="fa fa-check"></i><b>7.1.1</b> De una tabla</a></li>
<li class="chapter" data-level="7.1.2" data-path="tse07.html"><a href="tse07.html#de-una-celda-de-una-tabla"><i class="fa fa-check"></i><b>7.1.2</b> De una celda de una tabla</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="tse07.html"><a href="tse07.html#pruebas-de-diferencias"><i class="fa fa-check"></i><b>7.2</b> Pruebas de diferencias</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="tse07.html"><a href="tse07.html#porcentajes-prueba-z"><i class="fa fa-check"></i><b>7.2.1</b> Porcentajes (prueba z)</a></li>
<li class="chapter" data-level="7.2.2" data-path="tse07.html"><a href="tse07.html#medias-prueba-t"><i class="fa fa-check"></i><b>7.2.2</b> Medias (prueba t)</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tse07.html"><a href="tse07.html#parámetros-posibles-en-las-pruebas-de-significación"><i class="fa fa-check"></i><b>7.3</b> Parámetros posibles en las pruebas de significación</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="tse07.html"><a href="tse07.html#algunos-ejemplos-de-uso-de-los-parámetros"><i class="fa fa-check"></i><b>7.3.1</b> Algunos ejemplos de uso de los parámetros</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tse07.html"><a href="tse07.html#conclusión-al-uso-de-expss"><i class="fa fa-check"></i><b>7.4</b> Conclusión al uso de <code>expss</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tse08.html"><a href="tse08.html"><i class="fa fa-check"></i><b>8</b> Visualización gráfica</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tse08.html"><a href="tse08.html#highcharter-introducción"><i class="fa fa-check"></i><b>8.1</b> <code>highcharter</code>, introducción</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="tse08.html"><a href="tse08.html#highchart"><i class="fa fa-check"></i><b>8.1.1</b> highchart()</a></li>
<li class="chapter" data-level="8.1.2" data-path="tse08.html"><a href="tse08.html#hchart"><i class="fa fa-check"></i><b>8.1.2</b> hchart()</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="tse08.html"><a href="tse08.html#mi-primer-gráfico"><i class="fa fa-check"></i><b>8.2</b> Mi primer gráfico</a></li>
<li class="chapter" data-level="8.3" data-path="tse08.html"><a href="tse08.html#gráfico-de-barras"><i class="fa fa-check"></i><b>8.3</b> Gráfico de barras</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="tse08.html"><a href="tse08.html#cambiar-el-nombre-de-la-serie-de-datos"><i class="fa fa-check"></i><b>8.3.1</b> Cambiar el nombre de la serie de datos</a></li>
<li class="chapter" data-level="8.3.2" data-path="tse08.html"><a href="tse08.html#añadir-créditos-al-gráfico"><i class="fa fa-check"></i><b>8.3.2</b> Añadir créditos al gráfico</a></li>
<li class="chapter" data-level="8.3.3" data-path="tse08.html"><a href="tse08.html#añadir-el-valor-del-dato-al-elemento-datalabels"><i class="fa fa-check"></i><b>8.3.3</b> Añadir el valor del dato al elemento (datalabels)</a></li>
<li class="chapter" data-level="8.3.4" data-path="tse08.html"><a href="tse08.html#guardar-y-exportar-el-gráfico"><i class="fa fa-check"></i><b>8.3.4</b> Guardar y exportar el gráfico</a></li>
<li class="chapter" data-level="8.3.5" data-path="tse08.html"><a href="tse08.html#api-de-highcharts-toda-la-potencia-de-los-gráficos"><i class="fa fa-check"></i><b>8.3.5</b> API de Highcharts, toda la potencia de los gráficos</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="tse08.html"><a href="tse08.html#gráfico-de-columna"><i class="fa fa-check"></i><b>8.4</b> Gráfico de columna</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="tse08.html"><a href="tse08.html#variación-de-columna-a-pirámide"><i class="fa fa-check"></i><b>8.4.1</b> Variación de columna a pirámide</a></li>
<li class="chapter" data-level="8.4.2" data-path="tse08.html"><a href="tse08.html#variación-de-columna-a-lollipop"><i class="fa fa-check"></i><b>8.4.2</b> Variación de columna a <em>lollipop</em></a></li>
<li class="chapter" data-level="8.4.3" data-path="tse08.html"><a href="tse08.html#gráficos-polares"><i class="fa fa-check"></i><b>8.4.3</b> Gráficos polares</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="tse08.html"><a href="tse08.html#diagramas-de-secciones"><i class="fa fa-check"></i><b>8.5</b> Diagramas de secciones</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="tse08.html"><a href="tse08.html#tarta-pie-chart"><i class="fa fa-check"></i><b>8.5.1</b> Tarta / <em>pie chart</em></a></li>
<li class="chapter" data-level="8.5.2" data-path="tse08.html"><a href="tse08.html#anillo-doughnut"><i class="fa fa-check"></i><b>8.5.2</b> Anillo / <em>doughnut</em></a></li>
<li class="chapter" data-level="8.5.3" data-path="tse08.html"><a href="tse08.html#funnel"><i class="fa fa-check"></i><b>8.5.3</b> <em>Funnel</em></a></li>
<li class="chapter" data-level="8.5.4" data-path="tse08.html"><a href="tse08.html#pirámide"><i class="fa fa-check"></i><b>8.5.4</b> Pirámide</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="tse08.html"><a href="tse08.html#gráfico-de-línea"><i class="fa fa-check"></i><b>8.6</b> Gráfico de línea</a></li>
<li class="chapter" data-level="8.7" data-path="tse08.html"><a href="tse08.html#gráficos-de-columnas-barras-con-apilamiento"><i class="fa fa-check"></i><b>8.7</b> Gráficos de columnas / barras con apilamiento</a></li>
<li class="chapter" data-level="8.8" data-path="tse08.html"><a href="tse08.html#gráfico-de-área"><i class="fa fa-check"></i><b>8.8</b> Gráfico de área</a></li>
<li class="chapter" data-level="8.9" data-path="tse08.html"><a href="tse08.html#gráfico-de-puntos-scatterplot"><i class="fa fa-check"></i><b>8.9</b> Gráfico de puntos / <em>scatterplot</em></a></li>
<li class="chapter" data-level="8.10" data-path="tse08.html"><a href="tse08.html#histograma-o-gráfico-de-densidad"><i class="fa fa-check"></i><b>8.10</b> Histograma o gráfico de densidad</a></li>
<li class="chapter" data-level="8.11" data-path="tse08.html"><a href="tse08.html#gráficos-indicadores"><i class="fa fa-check"></i><b>8.11</b> Gráficos indicadores</a>
<ul>
<li class="chapter" data-level="8.11.1" data-path="tse08.html"><a href="tse08.html#gauge"><i class="fa fa-check"></i><b>8.11.1</b> Gauge</a></li>
<li class="chapter" data-level="8.11.2" data-path="tse08.html"><a href="tse08.html#bullet"><i class="fa fa-check"></i><b>8.11.2</b> Bullet</a></li>
</ul></li>
<li class="chapter" data-level="8.12" data-path="tse08.html"><a href="tse08.html#gráfico-boxplot"><i class="fa fa-check"></i><b>8.12</b> Gráfico / <em>boxplot</em></a></li>
<li class="chapter" data-level="8.13" data-path="tse08.html"><a href="tse08.html#gráfico-de-barras-de-error"><i class="fa fa-check"></i><b>8.13</b> Gráfico de barras de error</a></li>
<li class="chapter" data-level="8.14" data-path="tse08.html"><a href="tse08.html#gráficos-de-transiciones"><i class="fa fa-check"></i><b>8.14</b> Gráficos de transiciones</a>
<ul>
<li class="chapter" data-level="8.14.1" data-path="tse08.html"><a href="tse08.html#diagrama-de-sankey"><i class="fa fa-check"></i><b>8.14.1</b> Diagrama de Sankey</a></li>
<li class="chapter" data-level="8.14.2" data-path="tse08.html"><a href="tse08.html#diagrama-de-rueda"><i class="fa fa-check"></i><b>8.14.2</b> Diagrama de rueda</a></li>
<li class="chapter" data-level="8.14.3" data-path="tse08.html"><a href="tse08.html#diagrama-streamgraph"><i class="fa fa-check"></i><b>8.14.3</b> Diagrama <em>streamgraph</em></a></li>
<li class="chapter" data-level="8.14.4" data-path="tse08.html"><a href="tse08.html#diagrama-de-redes"><i class="fa fa-check"></i><b>8.14.4</b> Diagrama de redes</a></li>
</ul></li>
<li class="chapter" data-level="8.15" data-path="tse08.html"><a href="tse08.html#conclusión-2"><i class="fa fa-check"></i><b>8.15</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tse-formateo.html"><a href="tse-formateo.html"><i class="fa fa-check"></i><b>9</b> Estilos y formatos de tabla</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tse-formateo.html"><a href="tse-formateo.html#introducción"><i class="fa fa-check"></i><b>9.1</b> Introducción</a></li>
<li class="chapter" data-level="9.2" data-path="tse-formateo.html"><a href="tse-formateo.html#operaciones-con-tablas"><i class="fa fa-check"></i><b>9.2</b> Operaciones con tablas</a></li>
<li class="chapter" data-level="9.3" data-path="tse-formateo.html"><a href="tse-formateo.html#estilo-de-las-tablas"><i class="fa fa-check"></i><b>9.3</b> Estilo de las tablas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="tse-formateo.html"><a href="tse-formateo.html#estilo-y-posición"><i class="fa fa-check"></i><b>9.3.1</b> Estilo y posición</a></li>
<li class="chapter" data-level="9.3.2" data-path="tse-formateo.html"><a href="tse-formateo.html#formato-específico-de-fila-o-columna"><i class="fa fa-check"></i><b>9.3.2</b> Formato específico de fila o columna</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="tse-formateo.html"><a href="tse-formateo.html#adición-de-imágenes-y-de-otros-elementos"><i class="fa fa-check"></i><b>9.4</b> Adición de imágenes y de otros elementos</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="tse-formateo.html"><a href="tse-formateo.html#adición-de-iconos-de-fontawesome"><i class="fa fa-check"></i><b>9.4.1</b> Adición de iconos de FontAwesome</a></li>
<li class="chapter" data-level="9.4.2" data-path="tse-formateo.html"><a href="tse-formateo.html#adición-de-gráficos-de-tipo-sparkline"><i class="fa fa-check"></i><b>9.4.2</b> Adición de gráficos de tipo sparkline</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tse10.html"><a href="tse10.html"><i class="fa fa-check"></i><b>10</b> Condiciones</a>
<ul>
<li class="chapter" data-level="10.1" data-path="tse10.html"><a href="tse10.html#operadores-aritméticos"><i class="fa fa-check"></i><b>10.1</b> Operadores aritméticos</a></li>
<li class="chapter" data-level="10.2" data-path="tse10.html"><a href="tse10.html#operadores-relacionales"><i class="fa fa-check"></i><b>10.2</b> Operadores relacionales</a></li>
<li class="chapter" data-level="10.3" data-path="tse10.html"><a href="tse10.html#operadores-lógicos"><i class="fa fa-check"></i><b>10.3</b> Operadores lógicos</a></li>
<li class="chapter" data-level="10.4" data-path="tse10.html"><a href="tse10.html#operadores-de-asignación"><i class="fa fa-check"></i><b>10.4</b> Operadores de asignación</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliografía.html"><a href="bibliografía.html"><i class="fa fa-check"></i>Bibliografía</a></li>
<li class="divider"></li>
<li><a href="https://www.investigaonline.com/book001" target="blank">Roberto Gil-Saura (c) 2021</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tablas y gráficos con R y R Studio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tse05" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Tablas especiales</h1>
<p>En esta sección nos introducimos en algunas de las características que hacen muy especial a este paquete <code>expss</code>. Iremos introduciendo cada uno de los conceptos en el punto donde corresponda, dando la explicación de caso de uso, más que su explicación técnica. El usuario que quiera conocer más sobre ello, puede acudir a la guía de referencia de <a href="https://rdrr.io/cran/expss/man/">todas las opciones de este paquete</a>.</p>
<p>Aprenderemos a usar:</p>
<ul>
<li><code>tab_subgroup()</code>, que permite hacer la tabla con una parte de los datos;</li>
<li><code>%nest%</code>, que permite anidar variables;</li>
<li><code>total_row_label()</code>, escribir textos libres en filas en la secuencia que se indique;</li>
<li><code>recode()</code>, recodificar en línea una variable (ver <a href="tse06.html#recode">6.2</a> );</li>
<li><code>var_lab()</code>, modificar o asignar el texto de la variable;</li>
<li><code>val_lab()</code>, modificar o asignar los textos de los códigos;</li>
<li><code>drop_rc()</code>, borrar columnas o filas [drop_empty_rows() y drop_empty_cols()];</li>
<li><code>tab_sort_asc()</code>, para ordenar ascendente o descendente <code>tab_sort_desc()</code>;</li>
<li>uso de <code>na_if</code>, para eliminar valores de niveles que no se desean computar en el cálculo de estadísticos;</li>
<li>uso de criterios, para establecer sencillos mecanismos de filtro como complemento a otras funciones.</li>
</ul>
<div id="subgrupos-filtros-en-la-tabla" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Subgrupos (filtros en la tabla)</h2>
<p>Una de las primeras cuestiones que nos surge en muchas ocasiones es trabajar con subgrupos de la información original, bien porque deseamos una tabla de sólo un parte de la muestra o bien porque buscamos comparar determinados elementos en una misma tabla. Veamos las posibilidades y las situaciones de uso.</p>
<p>En la siguiente tabla, filtramos el banco de datos para aquellos entrevistados que han declarado tener hijos <code>(P34  == 1)</code> por un lado y los que no por otro <code>(P34 == 2)</code>. Para ello usamos la instrucción <a href="https://rdrr.io/cran/expss/man/tables.html"><code>tab_subgroup()</code></a> e introducimos también la instrucción <a href="https://rdrr.io/cran/expss/man/tables.html"><code>tab_row_label()</code></a> donde escribimos una fila con texto libre. Puedes consultar en la sección <a href="tse10.html#tse10">10</a> como se escriben las condiciones y cuáles son los operadores que puede utilizar <code>expss</code>, que su vez, tiene algunos operadores propios que en esta misma sección incluiremos.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="tse05.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="tse05.html#cb78-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_subgroup</span>(P34 <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="tse05.html#cb78-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_row_label</span>(<span class="st">&quot;Entrevistado con hijos&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-4"><a href="tse05.html#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(<span class="fu">total</span>(), P31) <span class="sc">%&gt;%</span></span>
<span id="cb78-5"><a href="tse05.html#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cells</span>(P36) <span class="sc">%&gt;%</span></span>
<span id="cb78-6"><a href="tse05.html#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-7"><a href="tse05.html#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_subgroup</span>(P34 <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-8"><a href="tse05.html#cb78-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_row_label</span>(<span class="st">&quot;Entrevistado sin hijos&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-9"><a href="tse05.html#cb78-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(<span class="fu">total</span>(), P31) <span class="sc">%&gt;%</span></span>
<span id="cb78-10"><a href="tse05.html#cb78-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cells</span>(P36) <span class="sc">%&gt;%</span></span>
<span id="cb78-11"><a href="tse05.html#cb78-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-12"><a href="tse05.html#cb78-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>())</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-67"></span>
<div id="htmlwidget-e8681e7e88a30ada4ac5" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e8681e7e88a30ada4ac5">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Entrevistado con hijos","Estado de salud en general","","","","","","","","Entrevistado sin hijos","Estado de salud en general","","","","","","",""],["","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","#Total cases","","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","#Total cases"],[null,175,484,125,14,3,null,null,801,null,273,930,442,72,19,2,2,1740],[null,85,230,53,8,2,null,null,378,null,151,490,191,32,6,null,1,871],[null,90,254,72,6,1,null,null,423,null,122,440,251,40,13,2,1,869]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\" colspan=\"2\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"2\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'text-align':'right'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'text-align':'right'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.1: Tabla con subgrupos
</p>
</div>
</div>
<div id="bases-yo-con-anidación" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Bases y/o con anidación</h2>
<p>El concepto de base, no está contemplado como tal en <code>expss</code>, pero podemos utilizar las diferentes combinaciones de instrucciones para poder obtener el resultado deseado. Por ejemplo, si queremos trabajar con bases de la variable <code>P34</code> (entrevistado tiene hijos o no tiene hijos), y obtener réplica de la tabla para ambas categorías, lo podíamos hacer de la forma anterior, pero hay otra posibilidad y es utilizar la opción de añadir variables anidadas en filas o utilizar de forma simultánea las instrucciones <code>tab_rows()</code> y <code>tab_cells()</code>.</p>
<p>En esta tabla hay algunas cosas a reseñar.</p>
<ul>
<li>En primer lugar <code>P34 == 1 | P34 == 2</code> es la condición de los casos con los que deseamos trabajar. No queremos contemplar los No Contesta. Se podría hacer también con el <code>na_if()</code> que veremos más adelante, pero creemos más clara esta opción.</li>
<li>Por otro lado, usamos <code>tab_cols()</code>, <code>tab_rows()</code> y <code>tab_cells()</code> lo que nos va a dar una publicación curiosa que responde a nuestra necesidad.</li>
<li>Por último, los códigos de <code>P34</code>, redefinidos al principio del script, se muestran como en una primera columna, diferenciados claramente del resto. La variable en <code>tab_cells()</code> de la que se calcula el estadístico (número de casos) se muestra como en una segunda columna, aunque realmente en el <em>dataframe</em> es sólo una. Hemos dejado fuera la opción de No Contesta aunque ya anticipamos que no tenía ningún caso.</li>
</ul>
<p>La función <a href="https://rdrr.io/cran/expss/man/var_lab.html"><code>var_lab()</code></a> permite asignar a una variable (<code>data$P34</code>) una lista (expresa con la función base de R denominada vector <code>c()</code> vector) de etiquetas donde el texto de la etiqueta va entrecomillado y el valor va igualado a la etiqueta. Es una forma muy simple, a la par que práctica, de etiquetar los valores de una variable.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="tse05.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P34) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sí&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;No&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)  <span class="co"># los valores de P34 son etiquetados como ...</span></span>
<span id="cb79-2"><a href="tse05.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb79-3"><a href="tse05.html#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_subgroup</span>(P34 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> P34 <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-4"><a href="tse05.html#cb79-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(<span class="fu">total</span>(), P31) <span class="sc">%&gt;%</span></span>
<span id="cb79-5"><a href="tse05.html#cb79-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_rows</span>(P34) <span class="sc">%&gt;%</span></span>
<span id="cb79-6"><a href="tse05.html#cb79-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cells</span>(P36) <span class="sc">%&gt;%</span></span>
<span id="cb79-7"><a href="tse05.html#cb79-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>() <span class="sc">%&gt;%</span></span>
<span id="cb79-8"><a href="tse05.html#cb79-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>())</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-68"></span>
<div id="htmlwidget-5fefdb199d475dcf44b7" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5fefdb199d475dcf44b7">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Tenencia de hijos menores de 18 años","","","","","","","","","","","","","","",""],["No","","","","","","","","Sí","","","","","","",""],["Estado de salud en general","","","","","","","","Estado de salud en general","","","","","","",""],["Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","#Total cases","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","#Total cases"],[273,930,442,72,19,2,2,1740,175,484,125,14,3,null,null,801],[151,490,191,32,6,null,1,871,85,230,53,8,2,null,null,378],[122,440,251,40,13,2,1,869,90,254,72,6,1,null,null,423]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\" colspan=\"4\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"2\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'text-align':'right'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'text-align':'right'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.2: Tabla con bases 1
</p>
</div>
<p>Si nos gusta esta opción, se le puede añadir un modificador llamado <code>%nest%</code> que nos va a permitir anidar esas bases de cálculo. El modificador <code>%nest%</code> nos permite anidar los niveles o categorías de las variables. Cualquiera de las tablas anteriores puede ser anidada en tantos niveles como se desee con la opción <code>%nest%</code>. Para que la tabla no se alargue horizontalmente, reasignamos el texto extra de la variable denominada <code>P3bis</code>. Usamos también el <code>recode()</code>para dejar tan sólo tres niveles en la variable P3. Más adelante en la sección <a href="tse06.html#recode">6.2</a> una mayor profundidad con el <code>recode()</code>.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="tse05.html#cb80-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>P3bis <span class="ot">&lt;-</span> <span class="fu">recode</span>(data<span class="sc">$</span>P3, <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span><span class="dv">1</span>, <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">~</span><span class="dv">2</span>)</span>
<span id="cb80-2"><a href="tse05.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">var_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="st">&quot;Satisfacción&quot;</span></span>
<span id="cb80-3"><a href="tse05.html#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1.Negativa&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;2.Positiva&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb80-4"><a href="tse05.html#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P34) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1.Sí&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;2.No&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb80-5"><a href="tse05.html#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb80-6"><a href="tse05.html#cb80-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_subgroup</span>(P34 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> P34 <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-7"><a href="tse05.html#cb80-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(<span class="fu">total</span>(), P31) <span class="sc">%&gt;%</span></span>
<span id="cb80-8"><a href="tse05.html#cb80-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_rows</span>(P3bis <span class="sc">%nest%</span> P34) <span class="sc">%&gt;%</span></span>
<span id="cb80-9"><a href="tse05.html#cb80-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cells</span>(P36) <span class="sc">%&gt;%</span></span>
<span id="cb80-10"><a href="tse05.html#cb80-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>(<span class="at">total_row_position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-11"><a href="tse05.html#cb80-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>()) </span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-69"></span>
<div id="htmlwidget-099a09f23a60e71d65a4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-099a09f23a60e71d65a4">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Satisfacción","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["1.Negativa","","","","","","","","","","","","","","","","","","","","","2.Positiva","","","","","","","","","","","","","","","","","","","",""],["Tenencia de hijos menores de 18 años","","","","","","","","","","","","","","","","","","","","","Tenencia de hijos menores de 18 años","","","","","","","","","","","","","","","","","","","",""],["1.Sí","","","","","","","2.No","","","","","","","9","","","","","","","1.Sí","","","","","","","2.No","","","","","","","9","","","","","",""],["Estado de salud en general","","","","","","","Estado de salud en general","","","","","","","Estado de salud en general","","","","","","","Estado de salud en general","","","","","","","Estado de salud en general","","","","","","","Estado de salud en general","","","","","",""],["Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C.","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C."],[35,117,47,5,2,null,null,42,180,106,16,4,null,null,null,null,null,null,null,null,null,139,365,78,9,1,null,null,227,746,334,55,15,2,2,null,null,null,null,null,null,null],[22,58,16,3,2,null,null,23,85,41,6,2,null,null,null,null,null,null,null,null,null,63,170,37,5,null,null,null,126,404,150,25,4,null,1,null,null,null,null,null,null,null],[13,59,31,2,null,null,null,19,95,65,10,2,null,null,null,null,null,null,null,null,null,76,195,41,4,1,null,null,101,342,184,30,11,2,1,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\" colspan=\"6\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"2\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4,5,6,7,8]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'text-align':'right'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'text-align':'right'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.3: Tabla con bases 2
</p>
</div>
<p>Algo más, si añadimos la instrucción <code>drop_rc()</code>, nótese la diferencia, pues desaparecen las filas y columnas sin información.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="tse05.html#cb81-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>P3bis <span class="ot">&lt;-</span> <span class="fu">recode</span>(data<span class="sc">$</span>P3, <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span><span class="dv">1</span>, <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">~</span><span class="dv">2</span>)</span>
<span id="cb81-2"><a href="tse05.html#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">var_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="st">&quot;Satisfacción&quot;</span></span>
<span id="cb81-3"><a href="tse05.html#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1.Negativa&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;2.Positiva&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb81-4"><a href="tse05.html#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P34) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1.Sí&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;2.No&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb81-5"><a href="tse05.html#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb81-6"><a href="tse05.html#cb81-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_subgroup</span>(P34 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> P34 <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-7"><a href="tse05.html#cb81-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(<span class="fu">total</span>(), P31) <span class="sc">%&gt;%</span></span>
<span id="cb81-8"><a href="tse05.html#cb81-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_rows</span>(P3bis <span class="sc">%nest%</span> P34) <span class="sc">%&gt;%</span></span>
<span id="cb81-9"><a href="tse05.html#cb81-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cells</span>(P36) <span class="sc">%&gt;%</span></span>
<span id="cb81-10"><a href="tse05.html#cb81-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>(<span class="at">total_row_position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-11"><a href="tse05.html#cb81-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb81-12"><a href="tse05.html#cb81-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_rc</span>())</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-70"></span>
<div id="htmlwidget-671b16543156fb927426" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-671b16543156fb927426">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Satisfacción","","","","","","","","","","","","","","","","","","","","",""],["1.Negativa","","","","","","","","","","2.Positiva","","","","","","","","","","",""],["Tenencia de hijos menores de 18 años","","","","","","","","","","Tenencia de hijos menores de 18 años","","","","","","","","","","",""],["1.Sí","","","","","2.No","","","","","1.Sí","","","","","2.No","","","","","",""],["Estado de salud en general","","","","","Estado de salud en general","","","","","Estado de salud en general","","","","","Estado de salud en general","","","","","",""],["Muy bueno","Bueno","Regular","Malo","Muy malo","Muy bueno","Bueno","Regular","Malo","Muy malo","Muy bueno","Bueno","Regular","Malo","Muy malo","Muy bueno","Bueno","Regular","Malo","Muy malo","N.S.","N.C."],[35,117,47,5,2,42,180,106,16,4,139,365,78,9,1,227,746,334,55,15,2,2],[22,58,16,3,2,23,85,41,6,2,63,170,37,5,null,126,404,150,25,4,null,1],[13,59,31,2,null,19,95,65,10,2,76,195,41,4,1,101,342,184,30,11,2,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\" colspan=\"6\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"2\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4,5,6,7,8]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'text-align':'right'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'text-align':'right'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.4: Borrando filas y columnas vacías
</p>
</div>
</div>
<div id="características-avanzadas" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Características avanzadas</h2>
<p>Hagamos ahora lo mismo, pero combinando con un cálculo estadístico, por ejemplo nuevamente la media de P6C (atención recibida en consultas). Fijémonos en la nueva aportación realizada. En el <code>tab_cells()</code>, se le está indicando que se trabaje con la variable P6C, pero que considere NA (valores nulos) todos aquello que sean mayores que 5. ¿Por qué? porque los valores 8 y 9, han sido asignados al no sabe y no contesta respectivamente, y no queremos que entren en la media. Esto lo hacemos usando la función <code>na_if()</code>.</p>
<p>Los criterios más básicos son:</p>
<ul>
<li>igual -&gt; <code>equals</code>, <code>eq</code></li>
<li>no igual -&gt; <code>not_equals</code>, <code>neq</code>, <code>ne</code></li>
<li>mayor que -&gt; <code>greater</code>, <code>gt</code></li>
<li>mayor o igual que -&gt; <code>greater_or_equal</code>, <code>gte</code>, <code>ge</code></li>
<li>menor que -&gt; <code>less</code>, <code>lt</code></li>
<li>menor o igual que -&gt; <code>less_or_equal</code>, <code>lte</code>, <code>le</code></li>
</ul>
<p>Puede usarse la expresión larga o también cualquiera de las cortas. Por tanto, <code>na_if(P6C, gt(5))</code> significa trabaja con la variable <code>P6C</code> considerando <code>NA</code> los valores mayores que 5.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="tse05.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var_lab</span>(data<span class="sc">$</span>P6C) <span class="ot">&lt;-</span> <span class="st">&quot;Valoración de la atención recibida&quot;</span></span>
<span id="cb82-2"><a href="tse05.html#cb82-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>P3bis <span class="ot">&lt;-</span> <span class="fu">recode</span>(data<span class="sc">$</span>P3, <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span><span class="dv">1</span>, <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">~</span><span class="dv">2</span>)</span>
<span id="cb82-3"><a href="tse05.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Negativa&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Positiva&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb82-4"><a href="tse05.html#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P34) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sí&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;No&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb82-5"><a href="tse05.html#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb82-6"><a href="tse05.html#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_subgroup</span>(P34 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> P34 <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-7"><a href="tse05.html#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(<span class="fu">total</span>(), P31) <span class="sc">%&gt;%</span></span>
<span id="cb82-8"><a href="tse05.html#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_rows</span>(P3bis <span class="sc">%nest%</span> P34) <span class="sc">%&gt;%</span></span>
<span id="cb82-9"><a href="tse05.html#cb82-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cells</span>(<span class="at">P6C=</span> <span class="fu">na_if</span>(P6C, <span class="fu">gt</span>(<span class="dv">5</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb82-10"><a href="tse05.html#cb82-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-11"><a href="tse05.html#cb82-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>())</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-71"></span>
<div id="htmlwidget-b85e2df93677c3d08c9b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b85e2df93677c3d08c9b">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Negativa","","","Positiva","",""],["Tenencia de hijos menores de 18 años","","","Tenencia de hijos menores de 18 años","",""],["Sí","No","9","Sí","No","9"],["Valoración de la atención recibida","Valoración de la atención recibida","Valoración de la atención recibida","Valoración de la atención recibida","Valoración de la atención recibida","Valoración de la atención recibida"],["Mean","Mean","Mean","Mean","Mean","Mean"],[1.2,1.3,null,1.1,1.2,null],[1.1,1.3,null,1,1.2,null],[1.4,1.4,null,1.3,1.2,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\" colspan=\"5\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"2\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4,5,6,7]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'text-align':'right'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'text-align':'right'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.5: Usando criterios
</p>
</div>
<p>Se puede anidar también en filas y columnas. Vamos a reducir a dos el nivel de anidación para que se lea bien la tabla.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="tse05.html#cb83-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>P3bis <span class="ot">&lt;-</span> <span class="fu">recode</span>(data<span class="sc">$</span>P3, <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span><span class="dv">1</span>, <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">~</span><span class="dv">2</span>)</span>
<span id="cb83-2"><a href="tse05.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">var_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="st">&quot;Satisfacción&quot;</span></span>
<span id="cb83-3"><a href="tse05.html#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P3bis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1.Negativa&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;2.Positiva&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb83-4"><a href="tse05.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="fu">val_lab</span>(data<span class="sc">$</span>P34) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1.Sí&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;2.No&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb83-5"><a href="tse05.html#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb83-6"><a href="tse05.html#cb83-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(P31 <span class="sc">%nest%</span> P34) <span class="sc">%&gt;%</span> </span>
<span id="cb83-7"><a href="tse05.html#cb83-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_rows</span>(P3bis <span class="sc">%nest%</span> P33) <span class="sc">%&gt;%</span></span>
<span id="cb83-8"><a href="tse05.html#cb83-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>(<span class="at">total_row_position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb83-9"><a href="tse05.html#cb83-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>())</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-72"></span>
<div id="htmlwidget-11db017b77c3fd09478f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-11db017b77c3fd09478f">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Satisfacción","","","","","","","","","","",""],["1.Negativa","","","","","","2.Positiva","","","","",""],["Estado civil de la persona entrevistada","","","","","","Estado civil de la persona entrevistada","","","","",""],["Casado/a","Soltero/a","Viudo/a","Separado/a","Divorciado/a","N.C.","Casado/a","Soltero/a","Viudo/a","Separado/a","Divorciado/a","N.C."],["#Total","#Total","#Total","#Total","#Total","#Total","#Total","#Total","#Total","#Total","#Total","#Total"],[70,20,1,5,5,null,204,45,3,4,18,1],[73,63,9,5,6,1,322,324,28,10,25,1],[1,null,null,null,null,null,3,2,null,null,null,1],[70,26,1,2,6,null,236,54,5,10,12,null],[87,74,19,4,6,1,311,203,120,17,18,2],[1,null,null,null,null,null,3,1,3,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"4\" colspan=\"5\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"1\" colspan=\"6\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"3\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"3\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"3\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Tenencia de hijos menores de 18 años\n      <\/th>\n      <th rowspan=\"1\" colspan=\"3\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Tenencia de hijos menores de 18 años\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        1.Sí\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        2.No\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        9\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        1.Sí\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        2.No\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        9\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4,5,6,7,8,9,10]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'text-align':'right'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'text-align':'right'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'text-align':'right'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'text-align':'right'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'text-align':'right'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.6: Anidando filas y columnas
</p>
</div>
<p>Como caso particular en muchos casos se requieren los subtotales de los niveles de anidación. Fíjate esta tabla y trata de ver las diferencias con la anterior.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="tse05.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.datatable_widget</span>(data <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="tse05.html#cb84-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_cols</span>(P31 <span class="sc">%nest%</span>  <span class="fu">list</span>(<span class="fu">total</span>(),P34)) <span class="sc">%&gt;%</span> </span>
<span id="cb84-3"><a href="tse05.html#cb84-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_rows</span>(P36 <span class="sc">%nest%</span> P33) <span class="sc">%&gt;%</span></span>
<span id="cb84-4"><a href="tse05.html#cb84-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_stat_cases</span>() <span class="sc">%&gt;%</span></span>
<span id="cb84-5"><a href="tse05.html#cb84-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_sort_desc</span>() <span class="sc">%&gt;%</span></span>
<span id="cb84-6"><a href="tse05.html#cb84-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_pivot</span>())</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-73"></span>
<div id="htmlwidget-8c3e76d5bd81baeae47b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8c3e76d5bd81baeae47b">{"x":{"filter":"none","class":"stripe hover cell-border row-border order-column compact","data":[["Estado de salud en general","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["Bueno","","","","","","","","","","","","Malo","","","","","","","","","","","","Muy bueno","","","","","","","","","","","","Muy malo","","","","","","","","","","","","N.C.","","","","","","","","","","","","N.S.","","","","","","","","","","","","Regular","","","","","","","","","","",""],["Estado civil de la persona entrevistada","","","","","","","","","","","","Estado civil de la persona entrevistada","","","","","","","","","","","","Estado civil de la persona entrevistada","","","","","","","","","","","","Estado civil de la persona entrevistada","","","","","","","","","","","","Estado civil de la persona entrevistada","","","","","","","","","","","","Estado civil de la persona entrevistada","","","","","","","","","","","","Estado civil de la persona entrevistada","","","","","","","","","","",""],["Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a","","Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a","","Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a","","Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a","","Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a","","Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a","","Casado/a","","Divorciado/a","","N.C.","","Separado/a","","Soltero/a","","Viudo/a",""],["#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases","#Total","#Total cases"],[410,410,25,25,3,3,13,13,254,254,19,19,20,20,7,7,null,null,3,3,8,8,2,2,91,91,9,9,1,1,5,5,131,131,1,1,3,3,2,2,null,null,null,null,3,3,1,1,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,153,153,12,12,null,null,3,3,58,58,18,18],[171,171,10,10,1,1,6,6,39,39,3,3,5,5,1,1,null,null,null,null,2,2,null,null,57,57,6,6,null,null,3,3,19,19,null,null,null,null,2,2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,43,43,4,4,null,null,null,null,5,5,1,1],[236,236,15,15,2,2,7,7,214,214,16,16,15,15,6,6,null,null,3,3,6,6,2,2,33,33,3,3,null,null,2,2,112,112,1,1,3,3,null,null,null,null,null,null,2,2,1,1,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,110,110,8,8,null,null,3,3,53,53,17,17],[3,3,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[386,386,18,18,4,4,14,14,215,215,60,60,28,28,3,3,null,null,1,1,4,4,10,10,109,109,8,8,null,null,5,5,83,83,8,8,7,7,3,3,null,null,1,1,null,null,4,4,1,1,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,1,1,null,null,179,179,10,10,null,null,12,12,59,59,67,67],[191,191,7,7,null,null,8,8,44,44,4,4,3,3,1,1,null,null,null,null,2,2,null,null,67,67,4,4,null,null,null,null,19,19,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,46,46,6,6,null,null,3,3,15,15,2,2],[195,195,11,11,3,3,6,6,170,170,55,55,25,25,2,2,null,null,1,1,2,2,10,10,41,41,4,4,null,null,5,5,64,64,8,8,7,7,3,3,null,null,null,null,null,null,3,3,1,1,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,1,1,null,null,130,130,4,4,null,null,9,9,44,44,64,64],[null,null,null,null,1,1,null,null,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3,3,null,null,null,null,null,null,null,null,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"4\" colspan=\"5\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        \n      <\/th>\n      <th rowspan=\"1\" colspan=\"8\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Sexo de la persona entrevistada\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"4\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Hombre\n      <\/th>\n      <th rowspan=\"1\" colspan=\"4\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Mujer\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"3\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Tenencia de hijos menores de 18 años\n      <\/th>\n      <th rowspan=\"2\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        #Total\n      <\/th>\n      <th rowspan=\"1\" colspan=\"3\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        Tenencia de hijos menores de 18 años\n      <\/th>\n    <\/tr>\n    <tr>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        1.Sí\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        2.No\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        9\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        1.Sí\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        2.No\n      <\/th>\n      <th rowspan=\"1\" colspan=\"1\">\n        <style type=\"text/css\">th { text-align: center; } <\/style>\n        <style type=\"text/css\">th {border: 1px solid #DDD}<\/style>\n        9\n      <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"sorting":false,"ordering":false,"bFilter":false,"bInfo":false,"columnDefs":[{"className":"dt-head-left","targets":[0,1,2,3,4,5,6,7,8,9,10,11,12]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'text-align':'right'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'text-align':'right'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'text-align':'right'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'text-align':'right'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'text-align':'right'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'text-align':'right'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'text-align':'right'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'text-align':'right'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p class="caption">
Figura 5.7: Anidando con subtotales
</p>
</div>
<p>Efectivamente, han aparecido más columnas porque hemos anidado la columna de totales a la primera variable en lugar de usar el campo, hemos usado una lista de campos y además hemos ordenado de forma descendente respecto de la columna de total.</p>
<p>Pues hasta aquí una nueva sección completada. Continuamos en la sección <a href="tse06.html#tse06">6</a> incluyendo otras características de apoyo</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tse04.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tse06.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1.25
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true,
"bibliography": ["packages.bib", "book.bib"],
"biblio-style": "apalike",
"link-citations": true,
"cover-image": "data/portada.png"
});
});
</script>

</body>

</html>
